{"version":3,"file":"static/js/657.c5f148dd.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/common/atoms/searchField/SearchField.module.css?aeca","components/common/atoms/searchField/SearchField.tsx","components/dialogs/dialogTitle/RightIcons.tsx","webpack://my-app/./src/components/dialogs/dialogTitle/DialogsTitle.module.css?6b10","components/dialogs/dialogTitle/DialogsTitle.tsx","utils/date.ts","webpack://my-app/./src/components/dialogs/messageTitle/MessageTitle.module.css?e0c7","components/dialogs/messageTitle/MessageTitle.tsx","webpack://my-app/./src/components/dialogs/Dialogs.module.css?04a9","components/dialogs/Dialogs.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"SearchField_wrapper__-qG+l\"};","import {\n  ChangeEvent,\n  Dispatch,\n  FC,\n  memo,\n  ReactNode,\n  SetStateAction,\n} from 'react';\nimport SearchIcon from '@mui/icons-material/Search';\nimport { InputAdornment, TextField } from '@mui/material';\n\nimport classes from './SearchField.module.css';\n\ntype Props = {\n  placeholder: string;\n  searchValue: string;\n  setSearchValue: Dispatch<SetStateAction<string>>;\n  isSearch: boolean;\n  isDisabled?: boolean;\n  rightIcons?: ReactNode;\n};\n\nconst SearchField: FC<Props> = memo(\n  ({\n    placeholder,\n    searchValue,\n    setSearchValue,\n    isSearch,\n    isDisabled,\n    rightIcons,\n  }) => {\n    const handleChangeSearch = (\n      e: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>\n    ) => {\n      setSearchValue(e.target.value);\n    };\n\n    return (\n      <div className={classes.wrapper}>\n        <TextField\n          onChange={handleChangeSearch}\n          value={searchValue}\n          placeholder={placeholder}\n          disabled={isDisabled}\n          fullWidth\n          type=\"search\"\n          size=\"small\"\n          InputProps={{\n            startAdornment: (\n              <InputAdornment position=\"start\">\n                <SearchIcon />\n              </InputAdornment>\n            ),\n            endAdornment: !isSearch && rightIcons,\n          }}\n          sx={{ bgcolor: 'var(--white-main)' }}\n          autoFocus={isSearch}\n        />\n      </div>\n    );\n  }\n);\n\nexport default SearchField;\n","import { FC } from 'react';\nimport CreateIcon from '@mui/icons-material/Create';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport PhoneForwardedIcon from '@mui/icons-material/PhoneForwarded';\nimport { IconButton, InputAdornment } from '@mui/material';\n\nconst RightIcons: FC = () => (\n  <InputAdornment position=\"start\">\n    <IconButton>\n      <PhoneForwardedIcon />\n    </IconButton>\n    <IconButton>\n      <CreateIcon />\n    </IconButton>\n    <IconButton>\n      <MoreHorizIcon />\n    </IconButton>\n  </InputAdornment>\n);\n\nexport default RightIcons;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"DialogsTitle_wrapper__1HLXo\"};","import { FC, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport SearchField from 'src/components/common/atoms/searchField/SearchField';\nimport RightIcons from 'src/components/dialogs/dialogTitle/RightIcons';\n\nimport classes from './DialogsTitle.module.css';\n\nconst DialogsTitle: FC = () => {\n  const [searchValue, setSearchValue] = useState('');\n  const { t } = useTranslation();\n\n  return (\n    <div className={classes.wrapper}>\n      <SearchField\n        isSearch={false}\n        placeholder={t('dialogs.search')}\n        searchValue={searchValue}\n        setSearchValue={setSearchValue}\n        rightIcons={<RightIcons />}\n        isDisabled\n      />\n    </div>\n  );\n};\nexport default DialogsTitle;\n","export const convertDate = (date: string) => {\n  const dateParts = date.split('T');\n  const day = dateParts[0].slice(8);\n  const month = dateParts[0].slice(5, 7);\n  const year = dateParts[0].slice(0, 4);\n  const newDate = day + '.' + month + '.' + year;\n  return newDate;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"MessageTitle_wrapper__E5EV8\",\"icon\":\"MessageTitle_icon__Wrz2Q\",\"container\":\"MessageTitle_container__rszxQ\",\"userName\":\"MessageTitle_userName__nvYtz\",\"iconWrapper\":\"MessageTitle_iconWrapper__6mf0B\",\"top\":\"MessageTitle_top__QkTW4\",\"date\":\"MessageTitle_date__2F1xZ\"};","import { FC, MouseEvent } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport MoreHorizIcon from '@mui/icons-material/MoreHoriz';\nimport {\n  Avatar,\n  Badge,\n  Divider,\n  ListItem,\n  ListItemAvatar,\n  ListItemIcon,\n  ListItemText,\n} from '@mui/material';\nimport { Dialog } from 'src/types';\nimport { convertDate } from 'src/utils/date';\n\nimport classes from './MessageTitle.module.css';\n\ntype Props = {\n  dialog: Dialog;\n  openDialog: () => void;\n  title: string;\n  isLast: boolean;\n};\n\nconst MessageTitle: FC<Props> = ({ dialog, openDialog, title, isLast }) => {\n  const {\n    id,\n    userName,\n    lastDialogActivityDate,\n    hasNewMessages,\n    // lastUserActivityDate,\n    newMessagesCount,\n    photos,\n  } = dialog;\n\n  const openMenu = (e: MouseEvent<SVGSVGElement>) => {\n    e.preventDefault();\n    console.log('openMenu');\n  };\n\n  const dialogPath = `/Dialogs/${id}`;\n\n  return (\n    <li className={classes.wrapper}>\n      <NavLink\n        className={classes.container}\n        onClick={openDialog}\n        to={dialogPath}\n      >\n        <ListItem alignItems=\"flex-start\">\n          <ListItemAvatar>\n            <Avatar alt={userName} src={photos?.small} />\n          </ListItemAvatar>\n          <ListItemText\n            primary={userName}\n            secondary={title}\n            className={classes.userName}\n          />\n          <ListItemIcon className={classes.iconWrapper}>\n            <div className={classes.top}>\n              <span className={classes.date}>\n                {convertDate(lastDialogActivityDate)}\n              </span>\n              <MoreHorizIcon onClick={openMenu} className={classes.icon} />\n            </div>\n            {hasNewMessages && (\n              <div>\n                <Badge badgeContent={newMessagesCount} color=\"primary\" />\n              </div>\n            )}\n          </ListItemIcon>\n        </ListItem>\n      </NavLink>\n      {!isLast && <Divider variant=\"fullWidth\" component=\"li\" />}\n    </li>\n  );\n};\n\nexport default MessageTitle;\n","// extracted by mini-css-extract-plugin\nexport default {\"dialogs\":\"Dialogs_dialogs__khqyU\"};","import { FC, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DialogsTitle from 'src/components/dialogs/dialogTitle/DialogsTitle';\r\nimport MessageTitle from 'src/components/dialogs/messageTitle/MessageTitle';\r\nimport {\r\n  dialogOpenedAction,\r\n  getDialogsAction,\r\n  getMessagesListAction,\r\n  getTitlesAction,\r\n  messagesListCleared,\r\n} from 'src/redux/dialogsReducer';\r\nimport { RootState } from 'src/redux/redux-store';\r\n\r\nimport classes from './Dialogs.module.css';\r\n\r\nconst Dialogs: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { isAuth, dialogs, messagesTitles } = useSelector(\r\n    (state: RootState) => ({\r\n      isAuth: state.auth,\r\n      dialogs: state.dialogs.dialogs,\r\n      messagesTitles: state.dialogs.messagesTitles,\r\n    })\r\n  );\r\n\r\n  useEffect(() => {\r\n    dispatch(getDialogsAction());\r\n  }, []); // eslint-disable-line\r\n\r\n  useEffect(\r\n    () => () => {\r\n      dispatch(messagesListCleared());\r\n    },\r\n    [] // eslint-disable-line\r\n  );\r\n\r\n  useEffect(() => {\r\n    const dialogsIds = dialogs.map((dialog) => dialog.id);\r\n    if (dialogsIds.length !== messagesTitles.length) {\r\n      dialogsIds.map((id) => dispatch(getTitlesAction({ id })));\r\n    }\r\n  }, [dialogs]); // eslint-disable-line\r\n\r\n  const titlesObject = Object.fromEntries(messagesTitles);\r\n\r\n  const openDialog = (id: number) => {\r\n    dispatch(getMessagesListAction({ id }));\r\n    dispatch(dialogOpenedAction({ id }));\r\n  };\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to=\"/Login\" />;\r\n  }\r\n\r\n  return (\r\n    <ul className={classes.dialogs}>\r\n      <DialogsTitle />\r\n      {dialogs.map((dialog, index) => (\r\n        <MessageTitle\r\n          key={dialog.id}\r\n          dialog={dialog}\r\n          title={titlesObject[dialog.id]}\r\n          openDialog={() => openDialog(dialog.id)}\r\n          isLast={index === dialogs.length - 1}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n"],"names":["memo","placeholder","searchValue","setSearchValue","isSearch","isDisabled","rightIcons","className","classes","TextField","onChange","e","target","value","disabled","fullWidth","type","size","InputProps","startAdornment","InputAdornment","position","Search","endAdornment","sx","bgcolor","autoFocus","IconButton","PhoneForwarded","Create","MoreHoriz","useState","t","useTranslation","SearchField","convertDate","date","dateParts","split","slice","dialog","openDialog","title","isLast","id","userName","lastDialogActivityDate","hasNewMessages","newMessagesCount","photos","dialogPath","onClick","to","ListItem","alignItems","ListItemAvatar","Avatar","alt","src","small","ListItemText","primary","secondary","ListItemIcon","preventDefault","console","log","Badge","badgeContent","color","Divider","variant","component","dispatch","useDispatch","useSelector","state","isAuth","auth","dialogs","messagesTitles","useEffect","getDialogsAction","messagesListCleared","dialogsIds","map","length","getTitlesAction","titlesObject","Object","fromEntries","index","getMessagesListAction","dialogOpenedAction"],"sourceRoot":""}