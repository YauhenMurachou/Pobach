(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[58],{1058:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return ht}});var s=n(1413),i=n(5671),r=n(3144),o=n(136),a=n(9388),u=n(2791),l=n(364),c=n(8931),d=n(7781),p=n(184),f=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var e=function(e){(0,o.Z)(u,e);var n=(0,a.Z)(u);function u(){return(0,i.Z)(this,u),n.apply(this,arguments)}return(0,r.Z)(u,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,s.Z)({},this.props)):(0,p.jsx)(c.l_,{to:"/Login"})}}]),u}(u.Component);return(0,l.$j)(f)(e)},m=n(1014),v=n(9439),x=n(9230),j=n(2506),_=n(132),g="Myposts_item__pt8A6",P="Myposts_addButton__hNqLe",Z=_.Ry().shape({newPost:_.Z_().min(3,"Too Short!").max(30,"Too Long Post, maximum length 30 symbols!")}),b=function(t){var e=t.onSubmit,n=(0,x.$G)().t;return(0,p.jsx)(j.J9,{onSubmit:e,initialValues:{newPost:""},validationSchema:Z,children:function(t){var e=t.errors,s=t.touched,i=t.dirty,r=t.isValid;return(0,p.jsxs)(j.l0,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(j.gN,{component:"textarea",name:"newPost",id:"newPost",placeholder:n("profile.newPost")}),e.newPost&&s.newPost?(0,p.jsx)("div",{children:e.newPost}):null]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{className:P,type:"submit",disabled:!i||!r,children:n("profile.addPost")}),(0,p.jsx)("button",{type:"submit",children:n("profile.removePost")})]})]})}})},N=n(7237),y="Post_post__Hs6+b",k="Post_iconWrapper__QNz8M",S="Post_likeWrapper__Btiof",C="Post_likesCount__UmBJo",I=function(t){var e=t.message,n=t.likesCount,s=t.id,i=t.isLike,r=(0,l.I0)();return(0,p.jsxs)("div",{className:y,children:[(0,p.jsxs)("div",{className:k,children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:"avatar"}),(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)(N.Z,{onClick:function(){r(m.ef.updateLikesActionCreator({message:e,id:s,likesCount:i?n-1:n+1,isLike:!i}))},sx:{opacity:i?1:.3}}),(0,p.jsx)("span",{className:C,children:n})]})]}),(0,p.jsx)("div",{children:e})]})},M=function(t){var e=t.postsData,n=t.addPostButton,s=(0,x.$G)().t,i=e.map((function(t){return(0,p.jsx)(I,{message:t.message,likesCount:t.likesCount,id:t.id,isLike:t.isLike},t.id)}));return(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:g,children:s("profile.posts")}),(0,p.jsx)(b,{onSubmit:function(t){n(t.newPost)}}),(0,p.jsx)("div",{className:g,children:i})]})},w=(0,l.$j)((function(t){return{postsData:t.profilePage.postsData}}),(function(t){return{addPostButton:function(e){t(m.ef.addPostActionCreator(e))}}}))(M),A=n(7205),O=n(423),E=n(7247),F=n(1286),L=n(9013),z=n(1161),J="ChangeAvatar_changeAvatar__kFIvi",T="ChangeAvatar_popoverWrapper__7Ghmh",D=function(t){var e=t.sendPhoto,n=t.isAvatar,s=(0,u.useState)(null),i=(0,v.Z)(s,2),r=i[0],o=i[1],a=(0,u.useState)(!1),l=(0,v.Z)(a,2),c=l[0],d=l[1],f=(0,x.$G)().t;return(0,p.jsxs)("div",{className:J,children:[(0,p.jsx)(A.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(F.Z,{}),onClick:function(t){t.preventDefault(),o(t.currentTarget),d((function(t){return!t}))},children:f("avatar.change")}),(0,p.jsx)(z.ZP,{open:c,anchorEl:r,onClose:function(){o(null),d(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,p.jsxs)("div",{className:T,children:[(0,p.jsxs)(A.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(L.Z,{}),children:[f("avatar.new"),(0,p.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(t){var n,s;null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&null!==(s=n.files)&&void 0!==s&&s.length&&e(t.target.files[0])}})]}),(0,p.jsx)(A.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(E.Z,{}),onClick:function(){e("delete")},disabled:!n,children:f("avatar.delete")})]})})]})},G="ProfileInfo_container__R75Ml",$="ProfileInfo_avatarContainer__zM+7i",U="ProfileInfo_avatar__M5d6S",V="ProfileInfo_statusContainer__h0o3u",B="ProfileInfo_fullName__t+34u",W="ProfileInfo_infoContainer__yHbOU",H="ProfileInfo_property__h328L",q="ProfileInfo_contact__5Q+TT",R="ProfileInfo_value__KMizn",Q="ProfileInfo_lookingJob__2qCdE",K="ProfileInfo_buttons__AiAlK",Y="ProfileInfo_formWrapper__E92sp",X="ProfileInfo_info__MrtQ3",tt=function(t){var e=t.profile,n=(0,x.$G)().t,s=Object.getOwnPropertyNames(e);return(0,p.jsx)("div",{className:X,children:s.map((function(t,s){return"fullName"===t||"photos"===t?void 0:null===e[t]?(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:H,children:[t,": "]}),(0,p.jsx)("span",{className:R,children:"-"})]},(t+s).toString()):e[t]&&"object"!==typeof e[t]&&"boolean"!==typeof e[t]?(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:H,children:[t,": "]}),(0,p.jsx)("span",{className:R,children:e[t]})]},(t+s).toString()):"lookingForAJob"===t&&e.lookingForAJob?(0,p.jsx)("div",{className:Q,children:n("profile.looking")},(t+s).toString()):"lookingForAJob"!==t||e.lookingForAJob?(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:H,children:t}),":",Object.keys(e.contacts).map((function(t,n){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:q,children:[t,": "]}),e.contacts[t]||" - "]},(t+n).toString())}))]},(t+s).toString()):(0,p.jsx)("div",{children:n("profile.notLooking")},s)}))})},et=n(3303),nt=n(45),st=function(t){var e=t.info,n=t.onSubmit,s=t.profile,i=t.toggleEditMode,r=s,o=(0,x.$G)().t;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(j.J9,{onSubmit:n,initialValues:s,children:function(t){var n=t.dirty;return(0,p.jsxs)(j.l0,{className:Y,children:[e.map((function(t,e){return"photos"===t||"userId"===t?void 0:"boolean"===typeof r[t]?(0,p.jsx)("div",{style:{display:"flex"},children:(0,p.jsx)(j.gN,{Label:{label:t},name:t,id:(t+e).toString(),type:"checkbox",component:et.$})},(t+e).toString()):"object"!==typeof r[t]?(0,p.jsx)("div",{className:H,children:(0,p.jsx)(j.gN,{name:t,id:(t+e).toString(),component:nt.n,variant:"standard",helperText:t})},(t+e).toString()):(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:H,children:t}),":",Object.keys(r.contacts).map((function(t,n){return(0,p.jsx)("div",{className:q,children:(0,p.jsx)(j.gN,{name:"contacts.".concat(t),id:(t+e).toString(),component:nt.n,variant:"standard",helperText:t})},(t+n).toString())}))]},(t+e).toString())})),(0,p.jsxs)("div",{className:K,children:[(0,p.jsx)(A.Z,{variant:"contained",color:"primary",type:"submit",disabled:!n,children:o("profile.save")}),(0,p.jsx)(A.Z,{variant:"contained",color:"secondary",onClick:i,children:o("profile.back")})]})]})}})})},it=n(8469),rt="ProfileStatus_subtitle__JAwJ2",ot="ProfileStatus_status__JNIfU",at=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;(0,i.Z)(this,n);for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,status:t.props.status},t.activeEditMode=function(){t.setState({editMode:!0})},t.deActiveEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus&&t.state.status.trim()!==t.props.status&&t.props.updateStatus(t.state.status.trim())},t.onStatusChange=function(e){var n=e.currentTarget;t.setState({status:n.value})},t}return(0,r.Z)(n,[{key:"componentDidUpdate",value:function(t){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,p.jsx)(p.Fragment,{children:this.props.status&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:rt,children:"status"}),!this.state.editMode&&(0,p.jsx)("span",{onClick:this.props.isOwner?this.activeEditMode:void 0,role:"button",className:this.props.isOwner?ot:void 0,children:this.props.status}),this.props.isOwner&&(this.state.editMode||!this.props.status)&&(0,p.jsx)(it.Z,{onBlur:this.deActiveEditMode,onChange:this.onStatusChange,value:this.state.status,autoFocus:!0,variant:"standard"})]})})}}]),n}(u.Component),ut=at,lt=n(3328),ct=function(t){var e,n,s,i=t.profile,r=t.sendPhoto,o=t.isOwner,a=t.status,u=t.updateStatus,c=t.editMode,d=t.setEditMode,f=function(){return d((function(t){return!t}))},h=(0,l.I0)(),v=(0,x.$G)().t;if(!i)return(0,p.jsx)(O.Z,{});var j=Object.getOwnPropertyNames(i);return(0,p.jsxs)("div",{className:G,children:[!c&&(0,p.jsxs)("div",{className:$,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{alt:"photos",src:null!==(e=null===(n=i.photos)||void 0===n?void 0:n.large)&&void 0!==e?e:lt,className:U}),o&&(0,p.jsx)(D,{sendPhoto:r,isAvatar:!(null===(s=i.photos)||void 0===s||!s.large)})]}),(0,p.jsxs)("div",{className:V,children:[(0,p.jsx)("div",{className:B,children:i.fullName}),(0,p.jsx)(ut,{isOwner:o,status:a,updateStatus:o?u:void 0})]})]}),(0,p.jsxs)("div",{className:W,children:[!c&&(0,p.jsx)(tt,{profile:i}),c&&(0,p.jsx)(st,{info:j,profile:i,onSubmit:function(t){h((0,m.Ny)(t)),d(!1)},toggleEditMode:f}),o&&!c&&(0,p.jsx)(A.Z,{variant:"contained",onClick:f,children:v("profile.edit")})]})]})},dt="Profile_content__9kPWj",pt=(0,u.memo)((function(t){var e=t.profile,n=t.status,s=t.isOwner,i=t.updateStatus,r=t.sendPhoto,o=(0,u.useState)(!1),a=(0,v.Z)(o,2),l=a[0],c=a[1];return(0,p.jsxs)("div",{className:dt,style:{height:l?"auto":"100%"},children:[(0,p.jsx)(ct,{profile:e,status:n,isOwner:s,updateStatus:i,sendPhoto:r,editMode:l,setEditMode:c}),(0,p.jsx)(w,{})]})})),ft=function(t){(0,o.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,i.Z)(this,n),e.apply(this,arguments)}return(0,r.Z)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.userId),this.props.setUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(pt,(0,s.Z)((0,s.Z)({},this.props),{},{profile:this.props.profile,isOwner:+this.props.match.params.userId===this.props.userId}))}}]),n}(u.Component),ht=(0,d.qC)((0,l.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId}}),{setUserProfile:m.nA,getStatus:m.xD,updateStatus:m.NN,sendPhoto:m.ok}),c.EN,h)(ft)},7247:function(t,e,n){"use strict";var s=n(4836);e.Z=void 0;var i=s(n(5649)),r=n(184),o=(0,i.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.Z=o},1286:function(t,e,n){"use strict";var s=n(4836);e.Z=void 0;var i=s(n(5649)),r=n(184),o=(0,i.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.Z=o},7237:function(t,e,n){"use strict";var s=n(4836);e.Z=void 0;var i=s(n(5649)),r=n(184),o=(0,i.default)((0,r.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=o},9013:function(t,e,n){"use strict";var s=n(4836);e.Z=void 0;var i=s(n(5649)),r=n(184),o=(0,i.default)((0,r.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");e.Z=o},5649:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s.createSvgIcon}});var s=n(5741)},5741:function(t,e,n){"use strict";n.r(e),n.d(e,{capitalize:function(){return i.Z},createChainedFunction:function(){return r},createSvgIcon:function(){return o.Z},debounce:function(){return a.Z},deprecatedPropType:function(){return u},isMuiElement:function(){return l.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return d.Z},requirePropFactory:function(){return p},setRef:function(){return f},unstable_ClassNameGenerator:function(){return P},unstable_useEnhancedEffect:function(){return h.Z},unstable_useId:function(){return m},unsupportedProp:function(){return v},useControlled:function(){return x.Z},useEventCallback:function(){return j.Z},useForkRef:function(){return _.Z},useIsFocusVisible:function(){return g.Z}});var s=n(5902),i=n(9853),r=n(8949).Z,o=n(233),a=n(2977);var u=function(t,e){return function(){return null}},l=n(6258),c=n(5783),d=n(8195);n(7462);var p=function(t,e){return function(){return null}},f=n(2971).Z,h=n(3026),m=n(6248).Z;var v=function(t,e,n,s,i){return null},x=n(5178),j=n(9511),_=n(7933),g=n(2763),P={configure:function(t){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),s.Z.configure(t)}}},3328:function(t,e,n){"use strict";t.exports=n.p+"static/media/avatar.5a2d86a614875de76929.png"},4836:function(t){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports}}]);
//# sourceMappingURL=58.636ceb0d.chunk.js.map