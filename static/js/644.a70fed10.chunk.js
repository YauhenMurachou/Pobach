"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[644],{2644:function(e,n,s){s.r(n),s.d(n,{default:function(){return O}});var a=s(2791),t=s(9230),r=s(364),i=s(8931),c=s(1523),o=s(2271),u=s(5152),d=s(9439),l=s(1686),m=s(8805),h=s(4420),g=s(8254),x=s(3811),_=s(7205),f=s(8955),j=s(6128),v="AddMessageForm_addMessageForm__Ex7F4",p="AddMessageForm_emojiContainer__GgOEq",C=s(184),N=function(){var e=(0,a.useState)(""),n=(0,d.Z)(e,2),s=n[0],i=n[1],c=(0,r.v9)((function(e){return e.chat.status})),o=(0,r.I0)(),u=(0,t.$G)().t,N=function(){s&&(o((0,j.q2)(s)),i(""))},k=(0,a.useState)(!1),Z=(0,d.Z)(k,2),y=Z[0],F=Z[1];return(0,C.jsxs)("div",{className:v,children:[(0,C.jsx)(h.Z,{placeholder:u("chat.enter"),multiline:!0,maxRows:4,value:s,onChange:function(e){return i(e.currentTarget.value)},fullWidth:!0,onKeyDown:function(e){e.ctrlKey&&"Enter"===e.key?i("".concat(s,"\r\n")):"Enter"!==e.key||e.shiftKey||(e.preventDefault(),N())},autoFocus:!0,endAdornment:(0,C.jsx)(g.Z,{position:"end",children:(0,C.jsx)(x.Z,{onClick:function(){F((function(e){return!e}))},edge:"end",children:(0,C.jsx)(m.Z,{})})})}),y&&(0,C.jsx)("div",{className:p,children:(0,C.jsx)(f.ZP,{onEmojiClick:function(e){i(s+e.emoji)},autoFocusSearch:!1})}),(0,C.jsx)(_.Z,{onClick:N,disabled:"ready"!==c||!s.trim().length,variant:"contained",endIcon:(0,C.jsx)(l.Z,{}),children:u("chat.send")})]})},k=s(423),Z=s(3328),y="ChatPage_messagesWrapper__NFx-O",F="ChatPage_avatar__6lEId",I="ChatPage_messageContainer__+VkiS",P="ChatPage_messageBlock__E3NSy",E="ChatPage_author__I+V9m",w="ChatPage_message__1C9-4",S="ChatPage_iconWrapper__-ISCr",A="ChatPage_icon__vtmug",O=(0,a.memo)((function(){var e=(0,r.v9)((function(e){return e.auth})).isAuth,n=(0,r.v9)((function(e){return e.chat.status}));return e?(0,C.jsxs)(C.Fragment,{children:["pending"===n&&(0,C.jsx)(k.Z,{isFetching:"pending"===n}),"ready"===n&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(b,{}),(0,C.jsx)(N,{})]})]}):(0,C.jsx)(i.l_,{to:"/Login"})})),b=(0,a.memo)((function(){var e=(0,r.v9)((function(e){return e.chat.messages})),n=(0,a.useRef)(null);return(0,a.useEffect)((function(){var e;null===(e=n.current)||void 0===e||e.scrollIntoView()}),[e]),(0,C.jsxs)("div",{className:y,children:[e.map((function(e){return(0,C.jsx)(M,{userId:e.userId,message:e.message,photo:e.photo,userName:e.userName,id:e.id},e.id)})),(0,C.jsx)("div",{ref:n})]})})),M=(0,a.memo)((function(e){var n=e.message,s=e.userName,a=e.photo,i=e.userId,d=e.id,l=(0,r.I0)(),m=(0,t.$G)().t;return(0,C.jsxs)("div",{className:I,children:[(0,C.jsxs)("div",{className:P,children:[(0,C.jsx)(c.OL,{to:"/profile/"+i,children:(0,C.jsx)("img",{src:null!==a&&void 0!==a?a:Z,alt:s,className:F})}),(0,C.jsxs)("div",{children:[(0,C.jsx)(c.OL,{to:"/profile/"+i,children:(0,C.jsx)("div",{className:E,children:s})}),(0,C.jsx)("div",{className:w,children:n})]})]}),(0,C.jsx)("div",{className:S,children:(0,C.jsx)(u.Z,{title:m("chat.delete"),arrow:!0,placement:"bottom-start",children:(0,C.jsx)(o.Z,{onClick:function(){l(j.ON.deleteMessageActionCreator(d))},className:A})})})]})}))},3328:function(e,n,s){e.exports=s.p+"static/media/avatar.5a2d86a614875de76929.png"}}]);
//# sourceMappingURL=644.a70fed10.chunk.js.map