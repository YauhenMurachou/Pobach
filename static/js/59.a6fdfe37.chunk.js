"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[59],{4059:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var i=n(2791),a=n(364),t=n(8931),r=n(7205),o=n(2506),l=n(132),d={dialogsItems:"Dialogs_dialogsItems__sdAQi",active:"Dialogs_active__reXUi",dialog:"Dialogs_dialog__y9RIU",message:"Dialogs_message__HhD33"},u=n(184),c=l.Ry().shape({newMessage:l.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Required")}),g=function(e){var s=e.onSubmit;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(o.J9,{onSubmit:s,initialValues:{newMessage:""},validationSchema:c,children:function(e){var s=e.errors,n=e.touched;return(0,u.jsxs)(o.l0,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(o.gN,{name:"newMessage",id:"newMessage",component:"textarea"}),s.newMessage&&n.newMessage?(0,u.jsx)("div",{children:s.newMessage}):null]}),(0,u.jsx)("button",{className:d.addButton,type:"submit",children:"Write message"})]})}})})},m="MessageTitle_container__rszxQ",h=function(e){var s=e.dialog,n=e.openDialog,i=s.userName,a=s.lastDialogActivityDate,t=s.newMessagesCount,r=s.photos;return(0,u.jsxs)("li",{className:m,onClick:n,children:[(0,u.jsx)("img",{alt:i,src:null===r||void 0===r?void 0:r.small}),(0,u.jsx)("div",{children:i}),(0,u.jsx)("span",{children:a}),(0,u.jsx)("span",{children:t})]})},x=n(9071),v=n(4487),f=function(){var e=(0,a.v9)((function(e){return e.auth})).isAuth,s=(0,a.v9)((function(e){return e.dialogs.dialogs})),n=(0,a.v9)((function(e){return e.dialogs.messagesList})),o=(0,a.I0)();(0,i.useEffect)((function(){o((0,v.f2)())}),[]);return e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("ul",{children:s.map((function(e){return(0,u.jsx)(h,{dialog:e,openDialog:function(){return o((0,v.dp)({id:e.id}))}},e.id)}))}),(0,u.jsx)("div",{children:null===n||void 0===n?void 0:n.items.map((function(e){return(0,u.jsx)("div",{children:e.body},e.id)}))}),(0,u.jsx)(r.Z,{onClick:function(){return o((0,v.Zm)({id:16763}))},children:"send message"}),(0,u.jsx)("div",{className:d.messages,children:(0,u.jsx)(g,{onSubmit:function(e){return o(x.G.addMessageActionCreator(e.newMessage))}})})]}):(0,u.jsx)(t.l_,{to:"/Login"})}}}]);
//# sourceMappingURL=59.a6fdfe37.chunk.js.map