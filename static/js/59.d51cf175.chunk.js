"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[59],{4059:function(e,s,n){n.r(s),n.d(s,{default:function(){return _}});var i=n(2791),a=n(364),t=n(8931),r=n(2506),o=n(132),l={dialogsItems:"Dialogs_dialogsItems__sdAQi",active:"Dialogs_active__reXUi",dialog:"Dialogs_dialog__y9RIU",message:"Dialogs_message__HhD33"},u=n(184),d=o.Ry().shape({newMessage:o.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Required")}),c=function(e){var s=e.onSubmit;return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(r.J9,{onSubmit:s,initialValues:{newMessage:""},validationSchema:d,children:function(e){var s=e.errors,n=e.touched;return(0,u.jsxs)(r.l0,{children:[(0,u.jsxs)("div",{children:[(0,u.jsx)(r.gN,{name:"newMessage",id:"newMessage",component:"textarea"}),s.newMessage&&n.newMessage?(0,u.jsx)("div",{children:s.newMessage}):null]}),(0,u.jsx)("button",{className:l.addButton,type:"submit",children:"Write message"})]})}})})},g="MessageTitle_container__rszxQ",m=function(e){var s=e.dialog,n=e.openDialog,i=s.userName,a=s.lastDialogActivityDate,t=s.newMessagesCount,r=s.photos;return(0,u.jsxs)("li",{className:g,onClick:n,children:[(0,u.jsx)("img",{alt:i,src:null===r||void 0===r?void 0:r.small}),(0,u.jsx)("div",{children:i}),(0,u.jsx)("span",{children:a}),(0,u.jsx)("span",{children:t})]})},h=n(9071),x=n(4487),_=function(){var e=(0,a.v9)((function(e){return e.auth})).isAuth,s=(0,a.v9)((function(e){return e.dialogs.dialogs})),n=(0,a.I0)();(0,i.useEffect)((function(){n((0,x.f2)())}),[]);return e?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("ul",{children:s.map((function(e){return(0,u.jsx)(m,{dialog:e,openDialog:function(){return n((0,x.dp)({id:e.id}))}},e.id)}))}),(0,u.jsx)("div",{className:l.messages,children:(0,u.jsx)(c,{onSubmit:function(e){return n(h.G.addMessageActionCreator(e.newMessage))}})})]}):(0,u.jsx)(t.l_,{to:"/Login"})}}}]);
//# sourceMappingURL=59.d51cf175.chunk.js.map