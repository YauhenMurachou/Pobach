"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[120],{3120:function(t,e,s){s.r(e),s.d(e,{default:function(){return vt}});var n=s(1413),o=s(5671),i=s(3144),r=s(136),a=s(9388),l=s(2791),d=s(364),c=s(8931),u=s(7781),p=s(184),f=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var e=function(e){(0,r.Z)(l,e);var s=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),s.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,n.Z)({},this.props)):(0,p.jsx)(c.l_,{to:"/Login"})}}]),l}(l.Component);return(0,d.$j)(f)(e)},v=s(1014),m=s(9439),j=s(9230),x=s(2506),g=s(132),_="Myposts_item__pt8A6",P="Myposts_addButton__hNqLe",Z=g.Ry().shape({newPost:g.Z_().min(3,"Too Short!").max(30,"Too Long Post, maximum length 30 symbols!")}),N=function(t){var e=t.onSubmit,s=(0,j.$G)().t;return(0,p.jsx)(x.J9,{onSubmit:e,initialValues:{newPost:""},validationSchema:Z,children:function(t){var e=t.errors,n=t.touched,o=t.dirty,i=t.isValid;return(0,p.jsxs)(x.l0,{children:[(0,p.jsxs)("div",{children:[(0,p.jsx)(x.gN,{component:"textarea",name:"newPost",id:"newPost",placeholder:s("profile.newPost")}),e.newPost&&n.newPost?(0,p.jsx)("div",{children:e.newPost}):null]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("button",{className:P,type:"submit",disabled:!o||!i,children:s("profile.addPost")}),(0,p.jsx)("button",{type:"submit",children:s("profile.removePost")})]})]})}})},b=s(7237),k="Post_post__Hs6+b",S="Post_iconWrapper__QNz8M",y="Post_likeWrapper__Btiof",I="Post_likesCount__UmBJo",w=function(t){var e=t.message,s=t.likesCount,n=t.id,o=t.isLike,i=(0,d.I0)();return(0,p.jsxs)("div",{className:k,children:[(0,p.jsxs)("div",{className:S,children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:"avatar"}),(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)(b.Z,{onClick:function(){i(v.ef.updateLikesActionCreator({message:e,id:n,likesCount:o?s-1:s+1,isLike:!o}))},sx:{opacity:o?1:.3}}),(0,p.jsx)("span",{className:I,children:s})]})]}),(0,p.jsx)("div",{children:e})]})},C=function(t){var e=t.postsData,s=t.addPostButton,n=(0,j.$G)().t,o=e.map((function(t){return(0,p.jsx)(w,{message:t.message,likesCount:t.likesCount,id:t.id,isLike:t.isLike},t.id)}));return(0,p.jsxs)("div",{children:[(0,p.jsx)("h3",{className:_,children:n("profile.posts")}),(0,p.jsx)(N,{onSubmit:function(t){s(t.newPost)}}),(0,p.jsx)("div",{className:_,children:o})]})},M=(0,d.$j)((function(t){return{postsData:t.profilePage.postsData}}),(function(t){return{addPostButton:function(e){t(v.ef.addPostActionCreator(e))}}}))(C),A=s(7205),z=s(7247),O=s(1286),E=s(9013),L=s(3300),U=s(6912),$=function(t){var e=t.sendPhoto,s=t.isAvatar,n=(0,l.useState)(null),o=(0,m.Z)(n,2),i=o[0],r=o[1],a=(0,l.useState)(!1),d=(0,m.Z)(a,2),c=d[0],u=d[1],f=(0,j.$G)().t;return(0,p.jsxs)("div",{className:U.Z.changeAvatar,children:[(0,p.jsx)(A.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(O.Z,{}),onClick:function(t){t.preventDefault(),r(t.currentTarget),u((function(t){return!t}))},children:f("avatar.change")}),(0,p.jsx)(L.ZP,{open:c,anchorEl:i,onClose:function(){r(null),u(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,p.jsxs)("div",{className:U.Z.popoverWrapper,children:[(0,p.jsxs)(A.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(E.Z,{}),children:[f("avatar.new"),(0,p.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(t){var s,n;null!==t&&void 0!==t&&null!==(s=t.target)&&void 0!==s&&null!==(n=s.files)&&void 0!==n&&n.length&&e(t.target.files[0])}})]}),(0,p.jsx)(A.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(z.Z,{}),onClick:function(){e("delete")},disabled:!s,children:f("avatar.delete")})]})})]})},J=s(423),D="ProfileInfo_container__R75Ml",F="ProfileInfo_avatarContainer__zM+7i",H="ProfileInfo_avatar__M5d6S",T="ProfileInfo_statusContainer__h0o3u",B="ProfileInfo_fullName__t+34u",G="ProfileInfo_infoContainer__yHbOU",V="ProfileInfo_property__h328L",W="ProfileInfo_contact__5Q+TT",q="ProfileInfo_value__KMizn",Q="ProfileInfo_lookingJob__2qCdE",R="ProfileInfo_buttons__AiAlK",K="ProfileInfo_formWrapper__E92sp",X="ProfileInfo_info__MrtQ3",Y=function(t){var e=t.profile,s=(0,j.$G)().t,n=Object.getOwnPropertyNames(e);return(0,p.jsx)("div",{className:X,children:n.map((function(t,n){return"fullName"===t||"photos"===t?void 0:null===e[t]?(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:V,children:[t,": "]}),(0,p.jsx)("span",{className:q,children:"-"})]},(t+n).toString()):e[t]&&"object"!==typeof e[t]&&"boolean"!==typeof e[t]?(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:V,children:[t,": "]}),(0,p.jsx)("span",{className:q,children:e[t]})]},(t+n).toString()):"lookingForAJob"===t&&e.lookingForAJob?(0,p.jsx)("div",{className:Q,children:s("profile.looking")},(t+n).toString()):"lookingForAJob"!==t||e.lookingForAJob?(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:V,children:t}),":",Object.keys(e.contacts).map((function(t,s){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:W,children:[t,": "]}),e.contacts[t]||" - "]},(t+s).toString())}))]},(t+n).toString()):(0,p.jsx)("div",{children:s("profile.notLooking")},n)}))})},tt=s(3303),et=s(45),st=function(t){var e=t.info,s=t.onSubmit,n=t.profile,o=t.toggleEditMode,i=n,r=(0,j.$G)().t;return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(x.J9,{onSubmit:s,initialValues:n,children:function(t){var s=t.dirty;return(0,p.jsxs)(x.l0,{className:K,children:[e.map((function(t,e){return"photos"===t||"userId"===t?void 0:"boolean"===typeof i[t]?(0,p.jsx)("div",{style:{display:"flex"},children:(0,p.jsx)(x.gN,{Label:{label:t},name:t,id:(t+e).toString(),type:"checkbox",component:tt.$})},(t+e).toString()):"object"!==typeof i[t]?(0,p.jsx)("div",{className:V,children:(0,p.jsx)(x.gN,{name:t,id:(t+e).toString(),component:et.n,variant:"standard",helperText:t})},(t+e).toString()):(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:V,children:t}),":",Object.keys(i.contacts).map((function(t,s){return(0,p.jsx)("div",{className:W,children:(0,p.jsx)(x.gN,{name:"contacts.".concat(t),id:(t+e).toString(),component:et.n,variant:"standard",helperText:t})},(t+s).toString())}))]},(t+e).toString())})),(0,p.jsxs)("div",{className:R,children:[(0,p.jsx)(A.Z,{variant:"contained",color:"primary",type:"submit",disabled:!s,children:r("profile.save")}),(0,p.jsx)(A.Z,{variant:"contained",color:"secondary",onClick:o,children:r("profile.back")})]})]})}})})},nt=s(8530),ot="ProfileStatus_subtitle__JAwJ2",it="ProfileStatus_status__JNIfU",rt=function(t){(0,r.Z)(s,t);var e=(0,a.Z)(s);function s(){var t;(0,o.Z)(this,s);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activeEditMode=function(){t.setState({editMode:!0})},t.deActiveEditMode=function(){t.setState({editMode:!1}),t.props.updateStatus&&t.state.status.trim()!==t.props.status&&t.props.updateStatus(t.state.status.trim())},t.onStatusChange=function(e){var s=e.currentTarget;t.setState({status:s.value})},t}return(0,i.Z)(s,[{key:"componentDidUpdate",value:function(t){t.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return(0,p.jsx)(p.Fragment,{children:this.props.status&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:ot,children:"status"}),!this.state.editMode&&(0,p.jsx)("span",{onClick:this.props.isOwner?this.activeEditMode:void 0,role:"button",className:this.props.isOwner?it:void 0,children:this.props.status}),this.props.isOwner&&(this.state.editMode||!this.props.status)&&(0,p.jsx)(nt.Z,{onBlur:this.deActiveEditMode,onChange:this.onStatusChange,value:this.state.status,autoFocus:!0,variant:"standard"})]})})}}]),s}(l.Component),at=rt,lt=s(9594),dt=s(3328),ct=s(6315),ut=function(t){var e,s,n,o=t.profile,i=t.sendPhoto,r=t.isOwner,a=t.status,c=t.updateStatus,u=t.editMode,f=t.setEditMode,h=function(){return f((function(t){return!t}))},m=(0,d.I0)(),x=(0,j.$G)().t,g=(0,d.v9)((function(t){return t.users.followingInProgressUsers})),_=(0,d.v9)((function(t){return t.users.users}));(0,l.useEffect)((function(){!r&&(null===o||void 0===o?void 0:o.userId)&&m((0,ct.Uk)(1,30,o.fullName))}),[o]);var P=_&&null!==o&&void 0!==o&&o.userId?_.find((function(t){return t.id===o.userId})):void 0;if(!o)return(0,p.jsx)(J.Z,{});var Z=Object.getOwnPropertyNames(o);return(0,p.jsxs)("div",{className:D,children:[!u&&(0,p.jsxs)("div",{className:F,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{alt:"photos",src:null!==(e=null===(s=o.photos)||void 0===s?void 0:s.large)&&void 0!==e?e:dt,className:H}),r&&(0,p.jsx)($,{sendPhoto:i,isAvatar:!(null===(n=o.photos)||void 0===n||!n.large)}),!r&&(0,p.jsxs)("div",{className:R,children:[(0,p.jsx)(lt.Z,{followingInProgress:g,unfollowUsers:function(){m((0,ct.BO)(null===P||void 0===P?void 0:P.id))},followUsers:function(){m((0,ct.$s)(null===P||void 0===P?void 0:P.id))},user:null!==P&&void 0!==P?P:{}}),(null===P||void 0===P?void 0:P.followed)&&(0,p.jsx)(A.Z,{variant:"contained",children:"Message"})]})]}),(0,p.jsxs)("div",{className:T,children:[(0,p.jsx)("div",{className:B,children:o.fullName}),(0,p.jsx)(at,{isOwner:r,status:a,updateStatus:r?c:void 0})]})]}),(0,p.jsxs)("div",{className:G,children:[!u&&(0,p.jsx)(Y,{profile:o}),u&&(0,p.jsx)(st,{info:Z,profile:o,onSubmit:function(t){m((0,v.Ny)(t)),f(!1)},toggleEditMode:h}),r&&!u&&(0,p.jsx)(A.Z,{variant:"contained",onClick:h,children:x("profile.edit")})]})]})},pt="Profile_content__9kPWj",ft=(0,l.memo)((function(t){var e=t.profile,s=t.status,n=t.isOwner,o=t.updateStatus,i=t.sendPhoto,r=(0,l.useState)(!1),a=(0,m.Z)(r,2),d=a[0],c=a[1];return(0,p.jsxs)("div",{className:pt,style:{height:d?"auto":"100%"},children:[(0,p.jsx)(ut,{profile:e,status:s,isOwner:n,updateStatus:o,sendPhoto:i,editMode:d,setEditMode:c}),(0,p.jsx)(M,{})]})})),ht=function(t){(0,r.Z)(s,t);var e=(0,a.Z)(s);function s(){return(0,o.Z)(this,s),e.apply(this,arguments)}return(0,i.Z)(s,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.userId),this.props.setUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(ft,(0,n.Z)((0,n.Z)({},this.props),{},{profile:this.props.profile,isOwner:+this.props.match.params.userId===this.props.userId}))}}]),s}(l.Component),vt=(0,u.qC)((0,d.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId}}),{setUserProfile:v.nA,getStatus:v.xD,updateStatus:v.NN,sendPhoto:v.ok}),c.EN,h)(ht)},9594:function(t,e,s){var n=s(2791),o=s(9230),i=s(7750),r=s(3368),a=s(7205),l=s(184),d=(0,n.memo)((function(t){var e=t.followingInProgress,s=t.unfollowUsers,n=t.followUsers,d=t.user,c=(0,o.$G)().t;return(0,l.jsx)("div",{children:d.followed?(0,l.jsx)(a.Z,{variant:"contained",startIcon:(0,l.jsx)(r.Z,{}),disabled:e.some((function(t){return t===d.id})),onClick:function(){s(d.id)},color:"info",children:c("users.unfollow")}):(0,l.jsx)(a.Z,{variant:"contained",startIcon:(0,l.jsx)(i.Z,{}),disabled:e.some((function(t){return t===d.id})),onClick:function(){n(d.id)},children:c("users.follow")})})}));e.Z=d},7247:function(t,e,s){var n=s(4836);e.Z=void 0;var o=n(s(5649)),i=s(184),r=(0,o.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.Z=r},1286:function(t,e,s){var n=s(4836);e.Z=void 0;var o=n(s(5649)),i=s(184),r=(0,o.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.Z=r},7237:function(t,e,s){var n=s(4836);e.Z=void 0;var o=n(s(5649)),i=s(184),r=(0,o.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=r},7750:function(t,e,s){var n=s(4836);e.Z=void 0;var o=n(s(5649)),i=s(184),r=(0,o.default)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");e.Z=r},3368:function(t,e,s){var n=s(4836);e.Z=void 0;var o=n(s(5649)),i=s(184),r=(0,o.default)((0,i.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4zm3 2v2h6v-2h-6zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonRemove");e.Z=r},9013:function(t,e,s){var n=s(4836);e.Z=void 0;var o=n(s(5649)),i=s(184),r=(0,o.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");e.Z=r},6912:function(t,e){e.Z={changeAvatar:"ChangeAvatar_changeAvatar__ooki0",popoverWrapper:"ChangeAvatar_popoverWrapper__9547g"}},3328:function(t,e,s){t.exports=s.p+"static/media/avatar.5a2d86a614875de76929.png"}}]);
//# sourceMappingURL=120.d992f90b.chunk.js.map