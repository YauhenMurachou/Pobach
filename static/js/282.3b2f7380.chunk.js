"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[282],{3620:function(t,e,n){var o=n(2791),s=n(9230),i=n(7750),a=n(3368),r=n(7205),l=n(184),d=(0,o.memo)((function(t){var e=t.followingInProgress,n=t.unfollowUsers,o=t.followUsers,d=t.user,c=(0,s.$G)().t;return(0,l.jsx)("div",{children:d.followed?(0,l.jsx)(r.Z,{variant:"contained",startIcon:(0,l.jsx)(a.Z,{}),disabled:e.some((function(t){return t===d.id})),onClick:function(){n(d.id)},color:"info",children:c("users.unfollow")}):(0,l.jsx)(r.Z,{variant:"contained",startIcon:(0,l.jsx)(i.Z,{}),disabled:e.some((function(t){return t===d.id})),onClick:function(){o(d.id)},children:c("users.follow")})})}));e.Z=d},6526:function(t,e,n){n.d(e,{Z:function(){return p}});var o=n(9230),s=n(364),i=n(1523),a=n(9823),r=n(3811),l=n(4688),d=n(386),c=n(4487),u={modal:"DialogModal_modal__D3ncR",title:"DialogModal_title__Sn9ce",closeIcon:"DialogModal_closeIcon__mFPcP"},f=n(184),p=function(t){var e=t.isOpen,n=t.handleClose,p=t.companion,v=(0,s.I0)(),h=(0,o.$G)().t,m=p||{},j=m.name,x=m.id,g="/Dialogs/".concat(x);return(0,f.jsx)("div",{className:u.wrapper,children:(0,f.jsx)(l.Z,{open:e,onClose:n,className:u.modal,children:(0,f.jsxs)("div",{children:[(0,f.jsxs)("div",{className:u.title,children:[(0,f.jsx)("h5",{children:h("dialogModal.newMessage")}),(0,f.jsxs)("div",{children:[h("dialogModal.redirect"),(0,f.jsx)(i.OL,{to:g,onClick:function(){return function(t){v((0,c.Bl)({id:t}))}(x)},children:j})]}),(0,f.jsx)("span",{className:u.closeIcon,children:(0,f.jsx)(r.Z,{onClick:n,children:(0,f.jsx)(a.Z,{})})})]}),(0,f.jsx)("div",{children:j}),(0,f.jsx)(d.Z,{onSubmit:function(t){v((0,c.Zm)({id:x,body:t.newMessage})),t.newMessage="",n()}})]})})})}},6282:function(t,e,n){n.r(e),n.d(e,{default:function(){return Pt}});var o=n(1413),s=n(5671),i=n(3144),a=n(136),r=n(9388),l=n(2791),d=n(364),c=n(8931),u=n(7781),f=n(184),p=function(t){return{isAuth:t.auth.isAuth}},v=function(t){var e=function(e){(0,a.Z)(l,e);var n=(0,r.Z)(l);function l(){return(0,s.Z)(this,l),n.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,f.jsx)(t,(0,o.Z)({},this.props)):(0,f.jsx)(c.l_,{to:"/Login"})}}]),l}(l.Component);return(0,d.$j)(p)(e)},h=n(1014),m=n(9439),j=n(9230),x=n(2506),g=n(132),_="Myposts_item__pt8A6",Z="Myposts_addButton__hNqLe",b=g.Ry().shape({newPost:g.Z_().min(3,"Too Short!").max(30,"Too Long Post, maximum length 30 symbols!")}),P=function(t){var e=t.onSubmit,n=(0,j.$G)().t;return(0,f.jsx)(x.J9,{onSubmit:e,initialValues:{newPost:""},validationSchema:b,children:function(t){var e=t.errors,o=t.touched,s=t.dirty,i=t.isValid;return(0,f.jsxs)(x.l0,{children:[(0,f.jsxs)("div",{children:[(0,f.jsx)(x.gN,{component:"textarea",name:"newPost",id:"newPost",placeholder:n("profile.newPost")}),e.newPost&&o.newPost?(0,f.jsx)("div",{children:e.newPost}):null]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{className:Z,type:"submit",disabled:!s||!i,children:n("profile.addPost")}),(0,f.jsx)("button",{type:"submit",children:n("profile.removePost")})]})]})}})},y=n(7237),N="Post_post__Hs6+b",k="Post_iconWrapper__QNz8M",S="Post_likeWrapper__Btiof",I="Post_likesCount__UmBJo",w=function(t){var e=t.message,n=t.likesCount,o=t.id,s=t.isLike,i=(0,d.I0)();return(0,f.jsxs)("div",{className:N,children:[(0,f.jsxs)("div",{className:k,children:[(0,f.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:"avatar"}),(0,f.jsxs)("div",{className:S,children:[(0,f.jsx)(y.Z,{onClick:function(){i(h.ef.updateLikesActionCreator({message:e,id:o,likesCount:s?n-1:n+1,isLike:!s}))},sx:{opacity:s?1:.3}}),(0,f.jsx)("span",{className:I,children:n})]})]}),(0,f.jsx)("div",{children:e})]})},C=function(t){var e=t.postsData,n=t.addPostButton,o=(0,j.$G)().t,s=e.map((function(t){var e=t.message,n=t.likesCount,o=t.id,s=t.isLike;return(0,f.jsx)(w,{message:e,likesCount:n,id:o,isLike:s},o)}));return(0,f.jsxs)("div",{children:[(0,f.jsx)("h3",{className:_,children:o("profile.posts")}),(0,f.jsx)(P,{onSubmit:function(t){n(t.newPost)}}),(0,f.jsx)("div",{className:_,children:s})]})},M=(0,d.$j)((function(t){return{postsData:t.profilePage.postsData}}),(function(t){return{addPostButton:function(e){t(h.ef.addPostActionCreator(e))}}}))(C),O=n(3366);var A=n(7205),z=n(3620),L=n(7247),D=n(1286),E=n(9013),U=n(4407),$=n(6912),J=function(t){var e=t.sendPhoto,n=t.isAvatar,o=(0,l.useState)(null),s=(0,m.Z)(o,2),i=s[0],a=s[1],r=(0,l.useState)(!1),d=(0,m.Z)(r,2),c=d[0],u=d[1],p=(0,j.$G)().t;return(0,f.jsxs)("div",{className:$.Z.changeAvatar,children:[(0,f.jsx)(A.Z,{variant:"contained",component:"label",startIcon:(0,f.jsx)(D.Z,{}),onClick:function(t){t.preventDefault(),a(t.currentTarget),u((function(t){return!t}))},children:p("avatar.change")}),(0,f.jsx)(U.ZP,{open:c,anchorEl:i,onClose:function(){a(null),u(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,f.jsxs)("div",{className:$.Z.popoverWrapper,children:[(0,f.jsxs)(A.Z,{variant:"contained",component:"label",startIcon:(0,f.jsx)(E.Z,{}),children:[p("avatar.new"),(0,f.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(t){var n,o;null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&null!==(o=n.files)&&void 0!==o&&o.length&&e(t.target.files[0])}})]}),(0,f.jsx)(A.Z,{variant:"contained",component:"label",startIcon:(0,f.jsx)(L.Z,{}),onClick:function(){e("delete")},disabled:!n,children:p("avatar.delete")})]})})]})},F=n(6526),B=n(423),G="ProfileInfo_container__R75Ml",H="ProfileInfo_avatarContainer__zM+7i",T="ProfileInfo_avatar__M5d6S",V="ProfileInfo_statusContainer__h0o3u",q="ProfileInfo_fullName__t+34u",W="ProfileInfo_infoContainer__yHbOU",R="ProfileInfo_property__h328L",Q="ProfileInfo_contact__5Q+TT",K="ProfileInfo_value__KMizn",X="ProfileInfo_lookingJob__2qCdE",Y="ProfileInfo_buttons__AiAlK",tt="ProfileInfo_formWrapper__E92sp",et="ProfileInfo_info__MrtQ3",nt=function(t){var e=t.profile,n=(0,j.$G)().t,o=Object.getOwnPropertyNames(e);return(0,f.jsx)("div",{className:et,children:o.map((function(t,o){return"fullName"===t||"photos"===t?void 0:null===e[t]?(0,f.jsxs)("div",{children:[(0,f.jsxs)("span",{className:R,children:[t,": "]}),(0,f.jsx)("span",{className:K,children:"-"})]},(t+o).toString()):e[t]&&"object"!==typeof e[t]&&"boolean"!==typeof e[t]?(0,f.jsxs)("div",{children:[(0,f.jsxs)("span",{className:R,children:[t,": "]}),(0,f.jsx)("span",{className:K,children:e[t]})]},(t+o).toString()):"lookingForAJob"===t&&e.lookingForAJob?(0,f.jsx)("div",{className:X,children:n("profile.looking")},(t+o).toString()):"lookingForAJob"!==t||e.lookingForAJob?(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:R,children:t}),":",Object.keys(e.contacts).map((function(t,n){return(0,f.jsxs)("div",{children:[(0,f.jsxs)("span",{className:Q,children:[t,": "]}),e.contacts[t]||" - "]},(t+n).toString())}))]},(t+o).toString()):(0,f.jsx)("div",{children:n("profile.notLooking")},o)}))})},ot=n(3303),st=n(45),it=n(5024).Z.t,at=g.Z_().trim().nullable().matches(/(^(\w[a-z\d-]*\.)+[a-z]{2,}$)/i,it("validation.domain")),rt=g.Z_().trim().max(25,it("validation.long")).required(it("validation.required")),lt=g.Ry().shape({fullName:g.Z_().trim().max(15,it("validation.long")).required(it("validation.required")),aboutMe:rt,lookingForAJob:g.O7(),lookingForAJobDescription:rt,contacts:g.Ry().shape({facebook:at,github:at,vk:at,instagram:at,twitter:at,website:at,youtube:at,mainLink:at})}),dt=function t(e,n){return Object.entries(e).some((function(e){var o=(0,m.Z)(e,2),s=o[0],i=o[1],a=n[s];return"string"===typeof i?i.trim()!==("string"===typeof a?a.trim():""):"boolean"===typeof i?i!==("boolean"===typeof a&&a):"object"===typeof i&&(i&&t(i,a||{}))}))},ct=function(t){var e=t.info,n=t.onSubmit,o=t.editProfile,s=t.toggleEditMode,i=(0,j.$G)().t;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(x.J9,{onSubmit:n,initialValues:o,validationSchema:lt,children:function(t){var n=t.dirty,a=t.isValid,r=t.values,l=dt(r,o);return(0,f.jsxs)(x.l0,{className:tt,children:[e.map((function(t,e){return"photos"===t||"userId"===t?void 0:"boolean"===typeof o[t]?(0,f.jsx)("div",{style:{display:"flex"},children:(0,f.jsx)(x.gN,{Label:{label:t},name:t,id:(t+e).toString(),type:"checkbox",component:ot.$})},(t+e).toString()):"object"!==typeof o[t]?(0,f.jsx)("div",{className:R,children:(0,f.jsx)(x.gN,{name:t,id:(t+e).toString(),component:st.n,variant:"standard",helperText:t})},(t+e).toString()):(0,f.jsxs)("div",{children:[(0,f.jsx)("span",{className:R,children:t}),":",Object.keys(o.contacts).map((function(t,n){return(0,f.jsx)("div",{className:Q,children:(0,f.jsx)(x.gN,{name:"contacts.".concat(t),id:(t+e).toString(),component:st.n,variant:"standard",helperText:t,validateOnChange:!1,validateOnBlur:!0})},(t+n).toString())}))]},(t+e).toString())})),(0,f.jsxs)("div",{className:Y,children:[(0,f.jsx)(A.Z,{variant:"contained",color:"primary",type:"submit",disabled:!n||!a||!l,children:i("profile.save")}),(0,f.jsx)(A.Z,{variant:"contained",color:"secondary",onClick:s,children:i("profile.back")})]})]})}})})},ut=n(8530),ft="ProfileStatus_subtitle__JAwJ2",pt="ProfileStatus_status__JNIfU",vt=function(t){(0,a.Z)(n,t);var e=(0,r.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activeEditMode=function(){t.setState({editMode:!0})},t.deActiveEditMode=function(){var e=t.props,n=e.status,o=e.updateStatus;t.setState({editMode:!1}),o&&t.state.status.trim()!==n&&o(t.state.status.trim())},t.onStatusChange=function(e){var n=e.currentTarget;t.setState({status:n.value})},t}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(t){var e=this.props.status;t.status!==e&&this.setState({status:e})}},{key:"render",value:function(){var t=this.props,e=t.status,n=t.isOwner;return(0,f.jsx)(f.Fragment,{children:e&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("div",{className:ft,children:"status"}),!this.state.editMode&&(0,f.jsx)("span",{onClick:n?this.activeEditMode:void 0,role:"button",className:n?pt:void 0,children:e}),n&&(this.state.editMode||!e)&&(0,f.jsx)(ut.Z,{onBlur:this.deActiveEditMode,onChange:this.onStatusChange,value:this.state.status,autoFocus:!0,variant:"standard"})]})})}}]),n}(l.Component),ht=vt,mt=n(3328),jt=n(6315),xt=["userId","photos"],gt=function(t){var e,n,o,s=t.profile,i=t.sendPhoto,a=t.isOwner,r=t.status,c=t.updateStatus,u=t.editMode,p=t.setEditMode,v=(0,l.useState)(!1),x=(0,m.Z)(v,2),g=x[0],_=x[1],Z=function(){return p((function(t){return!t}))},b=(0,d.I0)(),P=(0,j.$G)().t,y=(0,d.v9)((function(t){return t.users.followingInProgressUsers})),N=(0,d.v9)((function(t){return t.users.users}));(0,l.useEffect)((function(){!a&&(null===s||void 0===s?void 0:s.userId)&&b((0,jt.Uk)(1,30,s.fullName))}),[s]);var k=function(){_((function(t){return!t}))},S=N&&null!==s&&void 0!==s&&s.userId?N.find((function(t){return t.id===s.userId})):void 0;if(!s)return(0,f.jsx)(B.Z,{});var I=Object.getOwnPropertyNames(s),w=(s.userId,s.photos,function(t,e){if(null==t)return{};var n,o,s=(0,O.Z)(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}(s,xt));return(0,f.jsxs)("div",{className:G,children:[!u&&(0,f.jsxs)("div",{className:H,children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("img",{alt:"photos",src:null!==(e=null===(n=s.photos)||void 0===n?void 0:n.large)&&void 0!==e?e:mt,className:T}),a&&(0,f.jsx)(J,{sendPhoto:i,isAvatar:!(null===(o=s.photos)||void 0===o||!o.large)}),!a&&(0,f.jsxs)("div",{className:Y,children:[(0,f.jsx)(z.Z,{followingInProgress:y,unfollowUsers:function(){b((0,jt.BO)(null===S||void 0===S?void 0:S.id))},followUsers:function(){b((0,jt.$s)(null===S||void 0===S?void 0:S.id))},user:null!==S&&void 0!==S?S:{}}),(null===S||void 0===S?void 0:S.followed)&&(0,f.jsx)(A.Z,{variant:"contained",onClick:k,children:P("users.message")})]})]}),(0,f.jsxs)("div",{className:V,children:[(0,f.jsx)("div",{className:q,children:s.fullName}),(0,f.jsx)(ht,{isOwner:a,status:r,updateStatus:a?c:void 0})]})]}),(0,f.jsxs)("div",{className:W,children:[!u&&(0,f.jsx)(nt,{profile:s}),u&&(0,f.jsx)(ct,{info:I,editProfile:w,onSubmit:function(t){b((0,h.Ny)(t)),p(!1)},toggleEditMode:Z}),a&&!u&&(0,f.jsx)(A.Z,{variant:"contained",onClick:Z,children:P("profile.edit")})]}),(0,f.jsx)(F.Z,{isOpen:g,handleClose:k,companion:S})]})},_t="Profile_content__9kPWj",Zt=(0,l.memo)((function(t){var e=t.profile,n=t.status,o=t.isOwner,s=t.updateStatus,i=t.sendPhoto,a=(0,l.useState)(!1),r=(0,m.Z)(a,2),d=r[0],c=r[1];return(0,f.jsxs)("div",{className:_t,style:{height:d?"auto":"100%"},children:[(0,f.jsx)(gt,{profile:e,status:n,isOwner:o,updateStatus:s,sendPhoto:i,editMode:d,setEditMode:c}),(0,f.jsx)(M,{})]})})),bt=function(t){(0,a.Z)(n,t);var e=(0,r.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"refreshProfile",value:function(){var t=this.props.match.params.userId;t||(t=this.props.userId),this.props.setUserProfile(t),this.props.getStatus(t)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,f.jsx)(Zt,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,isOwner:+this.props.match.params.userId===this.props.userId}))}}]),n}(l.Component),Pt=(0,u.qC)((0,d.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId}}),{setUserProfile:h.nA,getStatus:h.xD,updateStatus:h.NN,sendPhoto:h.ok}),c.EN,v)(bt)},9823:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.Z=a},7247:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.Z=a},1286:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.Z=a},7237:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=a},7750:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");e.Z=a},3368:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4zm3 2v2h6v-2h-6zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonRemove");e.Z=a},9013:function(t,e,n){var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),a=(0,s.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");e.Z=a},6912:function(t,e){e.Z={changeAvatar:"ChangeAvatar_changeAvatar__ooki0",popoverWrapper:"ChangeAvatar_popoverWrapper__9547g"}},3328:function(t,e,n){t.exports=n.p+"static/media/avatar.5a2d86a614875de76929.png"}}]);
//# sourceMappingURL=282.3b2f7380.chunk.js.map