{"version":3,"file":"static/js/46.63e80e46.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/users/Users.module.css?d05c","components/users/Users.tsx","components/users/UsersClass.tsx","components/users/UsersContainer.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Users_wrapper__vVwd3\",\"header\":\"Users_header__jbNIb\",\"number\":\"Users_number__8PoIq\",\"itemWrapper\":\"Users_itemWrapper__CLc6T\"};","import { FC, memo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Popper from 'src/components/common/atoms/popper/Popper';\nimport SearchField from 'src/components/common/atoms/searchField/SearchField';\nimport UsersPagination from 'src/components/common/atoms/usersPagination/UsersPagination';\nimport DialogModal from 'src/components/common/molecules/dialogModal/DialogModal';\nimport EmptyState from 'src/components/common/molecules/EmptyState/EmptyState';\nimport UserItem from 'src/components/common/molecules/userItem/UserItem';\nimport { useSearch } from 'src/hooks/useSearch';\nimport { RootState } from 'src/redux/redux-store';\nimport { UserType } from 'src/types';\nimport {\n  calculatePagesCount,\n  getUsers as getUsersHandler,\n} from 'src/utils/users';\n\nimport classes from './Users.module.css';\n\ntype Props = {\n  totalUsersCount: number;\n  pageSize: number;\n  currentPage: number;\n  users: UserType[];\n  followingInProgress: number[];\n  onPageChange: (value: number) => void;\n  unfollowUsers: (id: number) => void;\n  followUsers: (id: number) => void;\n};\n\nconst Users: FC<Props> = memo(\n  ({\n    totalUsersCount,\n    pageSize,\n    currentPage,\n    users,\n    followingInProgress,\n    onPageChange,\n    unfollowUsers,\n    followUsers,\n  }) => {\n    const [page, setPage] = useState(1);\n    const [isDialogOpen, setDialogOpen] = useState(false);\n    const [isPopperOpen, setPopperOpen] = useState(false);\n    const [companion, setCompanion] = useState<UserType>();\n    const { isAuth } = useSelector((state: RootState) => state.auth);\n    const isFetching = useSelector(\n      (state: RootState) => state.users.isFetching\n    );\n    const { t } = useTranslation();\n\n    const { setSearchValue, searchValue } = useSearch(\n      getUsersHandler,\n      currentPage,\n      pageSize\n    );\n\n    const handleDialogOpen = (companion?: UserType) => {\n      setDialogOpen(true);\n      setCompanion(companion);\n    };\n\n    const handleDialogClose = () => {\n      setDialogOpen(false);\n    };\n\n    const pagesCount = calculatePagesCount(totalUsersCount, pageSize);\n\n    if (!isAuth) {\n      return <Redirect to=\"/Login\" />;\n    }\n\n    return (\n      <div className={classes.wrapper}>\n        {!isFetching && (\n          <>\n            <div className={classes.header}>\n              {t('users.showing')}{' '}\n              <span className={classes.number}>{users.length}</span>{' '}\n              {t('users.users')}{' '}\n              <span className={classes.number}>{totalUsersCount}</span>\n              {t('users.registered')}\n            </div>\n            <SearchField\n              placeholder={t('users.search')}\n              setSearchValue={setSearchValue}\n              searchValue={searchValue}\n              isSearch={!!searchValue}\n            />\n            <ul className={classes.itemWrapper}>\n              {users.map((user: UserType, index) => (\n                <UserItem\n                  user={user}\n                  followUsers={followUsers}\n                  unfollowUsers={unfollowUsers}\n                  followingInProgress={followingInProgress}\n                  handleDialogOpen={() => handleDialogOpen(user)}\n                  key={index + user.toString()}\n                />\n              ))}\n            </ul>\n            {pagesCount > 1 && (\n              <UsersPagination\n                pagesCount={pagesCount}\n                currentPage={page}\n                handlePageChange={onPageChange}\n                setPage={setPage}\n              />\n            )}\n            {!!searchValue && !users.length && (\n              <EmptyState text={t('users.nothing')} />\n            )}\n          </>\n        )}\n        <DialogModal\n          isOpen={isDialogOpen}\n          handleClose={handleDialogClose}\n          setPopperOpen={setPopperOpen}\n          companion={companion as UserType}\n        />\n        <Popper\n          isOpen={isPopperOpen}\n          placement=\"bottom-start\"\n          anchorEl={document.body}\n          handleClose={() => setPopperOpen(false)}\n          companion={companion as UserType}\n        />\n      </div>\n    );\n  }\n);\n\nexport default Users;\n","import React from 'react';\nimport Loader from 'src/components/loader/Loader';\nimport Users from 'src/components/users/Users';\n\nimport { UserType } from '../../types';\n\ntype PropsType = {\n  currentPage: number;\n  pageSize: number;\n  getUsers: (currentPage: number, pageSize: number) => void;\n  pageNumber?: number;\n  isFetching: boolean;\n  users: UserType[];\n  totalUsersCount: number;\n  unfollowUsers: (id: number) => void;\n  followUsers: (id: number) => void;\n  followingInProgress: number[];\n  // setFollowingInProgress: any;\n};\n\nclass UsersClass extends React.Component<PropsType> {\n  componentDidMount() {\n    this.props.getUsers(this.props.currentPage, this.props.pageSize);\n  }\n\n  onPageChange = (pageNumber: number) => {\n    this.props.getUsers(pageNumber, this.props.pageSize);\n  };\n\n  render() {\n    const {\n      isFetching,\n      totalUsersCount,\n      pageSize,\n      currentPage,\n      users,\n      unfollowUsers,\n      followUsers,\n      followingInProgress,\n    } = this.props;\n    return (\n      <>\n        {isFetching && <Loader isFetching={isFetching} />}\n        <Users\n          totalUsersCount={totalUsersCount}\n          pageSize={pageSize}\n          currentPage={currentPage}\n          onPageChange={this.onPageChange}\n          unfollowUsers={unfollowUsers}\n          followUsers={followUsers}\n          users={users}\n          followingInProgress={followingInProgress}\n          // setFollowingInProgress={this.props.setFollowingInProgress}\n        />\n      </>\n    );\n  }\n}\n\nexport default UsersClass;\n","import { connect } from 'react-redux';\r\nimport UsersClass from 'src/components/users/UsersClass';\r\nimport { RootState } from 'src/redux/redux-store';\r\nimport {\r\n  actions,\r\n  followUsersThunkCreator,\r\n  getUsersThunkCreator,\r\n  unfollowUsersThunkCreator,\r\n} from 'src/redux/usersReducer';\r\n\r\nconst mapStateToProps = (state: RootState) => ({\r\n  users: state.users.users,\r\n  pageSize: state.users.pageSize,\r\n  totalUsersCount: state.users.totalUsersCount,\r\n  currentPage: state.users.currentPage,\r\n  isFetching: state.users.isFetching,\r\n  followingInProgress: state.users.followingInProgressUsers,\r\n});\r\n\r\nconst UsersContainer = connect(mapStateToProps, {\r\n  setTotalUsersCount: actions.setTotalUsersCountActionCreator,\r\n  setFollowingInProgress: actions.setFollowingInProgressActionCreator,\r\n  getUsers: getUsersThunkCreator,\r\n  followUsers: followUsersThunkCreator,\r\n  unfollowUsers: unfollowUsersThunkCreator,\r\n})(UsersClass);\r\n\r\nexport default UsersContainer;\r\n"],"names":["memo","totalUsersCount","pageSize","currentPage","users","followingInProgress","onPageChange","unfollowUsers","followUsers","useState","page","setPage","isDialogOpen","setDialogOpen","isPopperOpen","setPopperOpen","companion","setCompanion","isAuth","useSelector","state","auth","isFetching","t","useTranslation","useSearch","getUsersHandler","setSearchValue","searchValue","pagesCount","calculatePagesCount","className","classes","length","SearchField","placeholder","isSearch","map","user","index","UserItem","handleDialogOpen","toString","UsersPagination","handlePageChange","EmptyState","text","DialogModal","isOpen","handleClose","Popper","placement","anchorEl","document","body","to","UsersClass","pageNumber","props","getUsers","this","Loader","React","connect","followingInProgressUsers","setTotalUsersCount","actions","setFollowingInProgress","getUsersThunkCreator","followUsersThunkCreator","unfollowUsersThunkCreator"],"sourceRoot":""}