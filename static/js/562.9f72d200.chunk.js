/*! For license information please see 562.9f72d200.chunk.js.LICENSE.txt */
(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[562],{3620:function(t,e,n){"use strict";var o=n(7750),s=n(3368),i=n(7205),r=n(2791),a=n(9230),l=n(184),c=(0,r.memo)((function(t){var e=t.followingInProgress,n=t.unfollowUsers,r=t.followUsers,c=t.user,u=(0,a.$G)().t;return(0,l.jsx)("div",{children:c.followed?(0,l.jsx)(i.Z,{variant:"contained",startIcon:(0,l.jsx)(s.Z,{}),disabled:e.some((function(t){return t===c.id})),onClick:function(){n(c.id)},color:"info",children:u("users.unfollow")}):(0,l.jsx)(i.Z,{variant:"contained",startIcon:(0,l.jsx)(o.Z,{}),disabled:e.some((function(t){return t===c.id})),onClick:function(){r(c.id)},children:u("users.follow")})})}));e.Z=c},1684:function(t,e,n){"use strict";n.d(e,{Z:function(){return Z}});var o=n(9823),s=n(3811),i=n(3245),r=n(1694),a=n.n(r),l=n(2791),c=n(9230),u=n(1523),d={wrapper:"Popper_wrapper__NNT0+",closeIcon:"Popper_closeIcon__iuj+x",title:"Popper_title__welaX",bottomStart:"Popper_bottomStart__a2H6i",bottomEnd:"Popper_bottomEnd__4iDVR"},p=n(184),f={"bottom-start":"bottomStart","bottom-end":"bottomEnd",auto:"","auto-start":"","auto-end":"",top:"",bottom:"",right:"",left:"","top-start":"","top-end":"","right-start":"","right-end":"","left-start":"","left-end":""},h=function(t){var e=t.anchorEl,n=t.isOpen,r=t.placement,h=t.handleClose,v=t.companion;(0,l.useEffect)((function(){var t;return n&&(t=setTimeout((function(){h()}),6e3)),function(){return clearTimeout(t)}}),[n]);var m=(0,c.$G)().t,x=v||{},j=x.name,_=x.id,g="/Dialogs/".concat(_),Z="/profile/".concat(_);return(0,p.jsxs)(i.Z,{open:n,anchorEl:e,placement:r,className:a()(d.wrapper,d[f[r]]),children:[(0,p.jsxs)("div",{className:d.title,children:[(0,p.jsx)("span",{children:m("popper.done")}),(0,p.jsx)("span",{className:d.closeIcon,children:(0,p.jsx)(s.Z,{onClick:h,children:(0,p.jsx)(o.Z,{})})})]}),(0,p.jsx)("div",{children:(0,p.jsxs)("div",{children:[(0,p.jsx)(u.OL,{to:g,children:m("popper.message")}),m("popper.sent")," ",(0,p.jsx)(u.OL,{to:Z,children:j})]})})]})},v=n(4688),m=n(364),x=n(3801),j=n(4487),_={modal:"DialogModal_modal__D3ncR",title:"DialogModal_title__Sn9ce",closeIcon:"DialogModal_closeIcon__mFPcP"},g=function(t){var e=t.isOpen,n=t.handleClose,i=t.companion,r=t.setPopperOpen,a=(0,m.I0)(),l=(0,c.$G)().t,d=i||{},f=d.name,h=d.id,g="/Dialogs/".concat(h);return(0,p.jsx)("div",{className:_.wrapper,children:(0,p.jsx)(v.Z,{open:e,onClose:n,className:_.modal,children:(0,p.jsxs)("div",{children:[(0,p.jsxs)("div",{className:_.title,children:[(0,p.jsx)("h5",{children:l("dialogModal.newMessage")}),(0,p.jsxs)("div",{children:[l("dialogModal.redirect"),(0,p.jsx)(u.OL,{to:g,onClick:function(){return function(t){a((0,j.Bl)({id:t}))}(h)},children:f})]}),(0,p.jsx)("span",{className:_.closeIcon,children:(0,p.jsx)(s.Z,{onClick:n,children:(0,p.jsx)(o.Z,{})})})]}),(0,p.jsx)("div",{children:f}),(0,p.jsx)(x.W,{sendMessageDialog:function(t){var e={id:h,body:t};a((0,j.Zm)(e)),n(),r(!0)}})]})})})},Z=function(t){var e=t.isDialogOpen,n=t.handleDialogOpen,o=t.setPopperOpen,s=t.companion,i=t.isPopperOpen;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(g,{isOpen:e,handleClose:n,setPopperOpen:o,companion:s}),(0,p.jsx)(h,{isOpen:i,placement:"bottom-start",anchorEl:document.body,handleClose:function(){return o(!1)},companion:s})]})}},3562:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return jt}});var o=n(1413),s=n(5671),i=n(3144),r=n(136),a=n(9388),l=n(2791),c=n(364),u=n(8931),d=n(7781),p=n(184),f=function(t){return{isAuth:t.auth.isAuth}},h=function(t){var e=function(e){(0,r.Z)(l,e);var n=(0,a.Z)(l);function l(){return(0,s.Z)(this,l),n.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return this.props.isAuth?(0,p.jsx)(t,(0,o.Z)({},this.props)):(0,p.jsx)(u.l_,{to:"/Login"})}}]),l}(l.Component);return(0,c.$j)(f)(e)},v=n(1014),m=n(9230),x=n(7237),j="Post_post__YRDJ8",_="Post_iconWrapper__2Qkqe",g="Post_likeWrapper__ViiFp",Z="Post_likesCount__3EeHo",P=function(t){var e=t.message,n=t.likesCount,o=t.id,s=t.isLike,i=(0,c.I0)();return(0,p.jsxs)("div",{className:j,children:[(0,p.jsxs)("div",{className:_,children:[(0,p.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/147/147144.png",alt:"avatar"}),(0,p.jsxs)("div",{className:g,children:[(0,p.jsx)(x.Z,{onClick:function(){i(v.ef.updateLikesActionCreator({message:e,id:o,likesCount:s?n-1:n+1,isLike:!s}))},sx:{opacity:s?1:.3}}),(0,p.jsx)("span",{className:Z,children:n})]})]}),(0,p.jsx)("div",{children:e})]})},b=n(7205),k=n(2506),N=n(45),C=n(8095),y="Myposts_container__QCfMh",w="Myposts_item__pt8A6",I="Myposts_buttons__h+mgH",S=function(t){var e=t.onSubmit,n=(0,m.$G)().t;return(0,p.jsx)(k.J9,{onSubmit:e,initialValues:{newPost:""},validationSchema:C.jM,children:function(t){var e=t.errors,o=t.touched,s=t.dirty,i=t.isValid;return(0,p.jsxs)(k.l0,{children:[(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(k.gN,{component:N.n,fullWidth:!0,name:"newPost",id:"newPost",placeholder:n("profile.newPost"),autoFocus:!0,sx:{bgcolor:"var(--white-main)"}}),e.newPost&&o.newPost?(0,p.jsx)("div",{children:e.newPost}):null]}),(0,p.jsxs)("div",{className:I,children:[(0,p.jsx)(b.Z,{type:"submit",disabled:!s||!i,variant:"contained",children:n("profile.addPost")}),(0,p.jsx)(b.Z,{type:"submit",disabled:!0,variant:"contained",children:n("profile.removePost")})]})]})}})},M=function(t){var e=t.postsData,n=t.addPostButton,o=(0,m.$G)().t,s=e.map((function(t){var e=t.message,n=t.likesCount,o=t.id,s=t.isLike;return(0,p.jsx)(P,{message:e,likesCount:n,id:o,isLike:s},o)}));return(0,p.jsxs)("div",{className:y,children:[(0,p.jsx)("h3",{className:w,children:o("profile.posts")}),(0,p.jsx)(S,{onSubmit:function(t){n(t.newPost),t.newPost=""}}),(0,p.jsx)("div",{className:w,children:s})]})},O=(0,c.$j)((function(t){return{postsData:t.profilePage.postsData}}),(function(t){return{addPostButton:function(e){t(v.ef.addPostActionCreator(e))}}}))(M),A=n(9439),D=n(1523),F=n(3620),z=n(6318),E=n(7247),L=n(1286),J=n(9013),U=n(4407),$=n(6912),q=function(t){var e=t.sendPhoto,n=t.isAvatar,o=(0,l.useState)(null),s=(0,A.Z)(o,2),i=s[0],r=s[1],a=(0,l.useState)(!1),c=(0,A.Z)(a,2),u=c[0],d=c[1],f=(0,m.$G)().t;return(0,p.jsxs)("div",{className:$.Z.changeAvatar,children:[(0,p.jsx)(b.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(L.Z,{}),onClick:function(t){t.preventDefault(),r(t.currentTarget),d((function(t){return!t}))},children:f("avatar.change")}),(0,p.jsx)(U.ZP,{open:u,anchorEl:i,onClose:function(){r(null),d(!1)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:(0,p.jsxs)("div",{className:$.Z.popoverWrapper,children:[(0,p.jsxs)(b.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(J.Z,{}),children:[f("avatar.new"),(0,p.jsx)("input",{hidden:!0,accept:"image/*",multiple:!0,type:"file",onChange:function(t){var n,o;null!==t&&void 0!==t&&null!==(n=t.target)&&void 0!==n&&null!==(o=n.files)&&void 0!==o&&o.length&&e(t.target.files[0])}})]}),(0,p.jsx)(b.Z,{variant:"contained",component:"label",startIcon:(0,p.jsx)(E.Z,{}),onClick:function(){e("delete")},disabled:!n,children:f("avatar.delete")})]})})]})},H=n(1684),W=n(5814),R=n(9958),T=n(5024),B="ProfileStatus_subtitle__+aXv8",G="ProfileStatus_status__wLnNw",V=function(t){(0,r.Z)(n,t);var e=(0,a.Z)(n);function n(){var t;(0,s.Z)(this,n);for(var o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,status:t.props.status},t.activeEditMode=function(){t.setState({editMode:!0})},t.timer=setTimeout((function(){t.setState({editMode:!1})}),200),t.deActiveEditMode=function(){return t.timer},t.handleBlurStatus=function(){var e=t.props,n=e.status,o=e.updateStatus;o&&t.state.status.trim()!==n?(o(t.state.status.trim()),t.deActiveEditMode()):t.setState({editMode:!1})},t.onStatusChange=function(e){var n=e.currentTarget;t.setState({status:n.value})},t}return(0,i.Z)(n,[{key:"componentDidUpdate",value:function(t){var e=this.props.status;t.status!==e&&this.setState({status:e})}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timer)}},{key:"render",value:function(){var t=this,e=this.props,n=e.status,o=e.isOwner;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:B,children:T.Z.t("status.status")}),!this.state.editMode&&(0,p.jsx)(W.Z,{title:o?T.Z.t("status.click"):"",arrow:!0,placement:"bottom",children:(0,p.jsx)("span",{onClick:o?this.activeEditMode:void 0,role:"button",className:o?G:void 0,children:null!==n&&void 0!==n?n:"..."})}),o&&(this.state.editMode||!n)&&(0,p.jsx)(R.Z,{onBlur:this.handleBlurStatus,onChange:this.onStatusChange,value:this.state.status,autoFocus:!0,variant:"standard",onKeyDown:function(e){"Enter"===e.key&&t.handleBlurStatus()}})]})}}]),n}(l.Component),X=V,Q=n(4261),Y="ProfileInfo_info__Jq1jy",K="ProfileInfo_title__Cc9-b",tt="ProfileInfo_property__R7zN2",et="ProfileInfo_contact__N3y76",nt="ProfileInfo_value__C9snW",ot="ProfileInfo_lookingJob__xc2Nf",st=function(t){var e,n=t.profile,o=(0,m.$G)().t,s=Object.getOwnPropertyNames(n);return(0,p.jsxs)("div",{className:Y,children:[(0,p.jsxs)("h5",{className:K,children:[o("profile.about")," ",(0,p.jsx)("strong",{children:n.fullName})]}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:tt,children:[o("profile.summary"),": "]}),(0,p.jsx)("span",{className:nt,children:null!==(e=n.aboutMe)&&void 0!==e?e:"-"})]}),s.map((function(t){return"lookingForAJob"===t&&n.lookingForAJob?(0,p.jsx)("div",{className:ot,children:o("profile.looking")},(0,Q.Z)()):"lookingForAJob"!==t||n.lookingForAJob?"lookingForAJobDescription"===t&&n.lookingForAJob?(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:tt,children:[o("profile.description"),":"," "]}),(0,p.jsx)("span",{className:nt,children:null!==(e=n.lookingForAJobDescription)&&void 0!==e?e:"-"})]},(0,Q.Z)()):"contacts"===t?(0,p.jsxs)("div",{children:[(0,p.jsx)("span",{className:tt,children:o("profile.contacts")}),":",Object.keys(n.contacts).map((function(t){return(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{className:et,children:[t,": "]}),n.contacts[t]||" - "]},(0,Q.Z)())}))]},(0,Q.Z)()):void 0:(0,p.jsx)("div",{children:o("profile.notLooking")},(0,Q.Z)());var e}))]})},it=n(3328),rt=n(6315),at="ProfileInfoContainer_container__drAuh",lt="ProfileInfoContainer_avatarContainer__Osv2F",ct="ProfileInfoContainer_avatar__XxX48",ut="ProfileInfoContainer_statusContainer__tAn0X",dt="ProfileInfoContainer_fullName__Ls6Ud",pt="ProfileInfoContainer_infoContainer__FoEep",ft="ProfileInfoContainer_buttons__8HamO",ht=function(t){var e,n,o,s=t.profile,i=t.sendPhoto,r=t.isOwner,a=t.status,u=t.updateStatus,d=(0,l.useState)(!1),f=(0,A.Z)(d,2),h=f[0],v=f[1],x=(0,l.useState)(!1),j=(0,A.Z)(x,2),_=j[0],g=j[1],Z=(0,c.I0)(),P=(0,m.$G)().t,k=(0,c.v9)((function(t){return t.users.followingInProgressUsers})),N=(0,c.v9)((function(t){return t.users.users}));(0,l.useEffect)((function(){!r&&(null===s||void 0===s?void 0:s.userId)&&Z((0,rt.Uk)(1,30,s.fullName))}),[s]);var C=function(){v((function(t){return!t}))},y=N&&null!==s&&void 0!==s&&s.userId?N.find((function(t){return t.id===s.userId})):void 0;return s?(0,p.jsxs)("div",{className:at,children:[(0,p.jsxs)("div",{className:lt,children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("img",{alt:"photos",src:null!==(e=null===(n=s.photos)||void 0===n?void 0:n.large)&&void 0!==e?e:it,className:ct}),r&&(0,p.jsx)(q,{sendPhoto:i,isAvatar:!(null===(o=s.photos)||void 0===o||!o.large)}),!r&&(0,p.jsxs)("div",{className:ft,children:[(0,p.jsx)(F.Z,{followingInProgress:k,unfollowUsers:function(){Z((0,rt.BO)(null===y||void 0===y?void 0:y.id))},followUsers:function(){Z((0,rt.$s)(null===y||void 0===y?void 0:y.id))},user:null!==y&&void 0!==y?y:{}}),(null===y||void 0===y?void 0:y.followed)&&(0,p.jsx)(b.Z,{variant:"contained",onClick:C,children:P("users.message")})]})]}),(0,p.jsxs)("div",{className:ut,children:[(0,p.jsx)("div",{className:dt,children:s.fullName}),(0,p.jsx)(X,{isOwner:r,status:a,updateStatus:r?u:void 0})]})]}),(0,p.jsxs)("div",{className:pt,children:[(0,p.jsx)(st,{profile:s}),r&&(0,p.jsx)(b.Z,{variant:"contained",children:(0,p.jsx)(D.OL,{to:"/Settings",children:P("profile.edit")})})]}),(0,p.jsx)(H.Z,{isDialogOpen:h,setPopperOpen:g,handleDialogOpen:C,companion:y,isPopperOpen:_})]}):(0,p.jsx)(z.Z,{})},vt="Profile_content__9kPWj",mt=(0,l.memo)((function(t){var e=t.profile,n=t.status,o=t.isOwner,s=t.updateStatus,i=t.sendPhoto;return(0,p.jsxs)("div",{className:vt,children:[(0,p.jsx)(ht,{profile:e,status:n,isOwner:o,updateStatus:s,sendPhoto:i}),(0,p.jsx)(O,{})]})})),xt=function(t){(0,r.Z)(n,t);var e=(0,a.Z)(n);function n(){return(0,s.Z)(this,n),e.apply(this,arguments)}return(0,i.Z)(n,[{key:"refreshProfile",value:function(){var t=this.props,e=t.setUserProfile,n=t.getStatus,o=this.props.match.params.userId;o||(o=this.props.userId),e(o),n(o)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(t){this.props.match.params.userId!==t.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,p.jsx)(mt,(0,o.Z)((0,o.Z)({},this.props),{},{profile:this.props.profile,isOwner:+this.props.match.params.userId===this.props.userId}))}}]),n}(l.Component),jt=(0,d.qC)((0,c.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,userId:t.auth.userId}}),{setUserProfile:v.nA,getStatus:v.xD,updateStatus:v.NN,sendPhoto:v.ok}),u.EN,h)(xt)},8095:function(t,e,n){"use strict";n.d(e,{hJ:function(){return p},jM:function(){return c},k:function(){return d},qY:function(){return u}});var o=n(9439),s=n(5024),i=n(132),r=s.Z.t,a=i.Z_().trim().nullable().matches(/(^(\w[a-z\d-]*\.)+[a-z]{2,}$)/i,r("validation.domain")),l=i.Z_().trim().max(25,r("validation.long")).required(r("validation.required")),c=i.Ry().shape({newPost:i.Z_().min(3,"Too Short!").max(30,"Too Long Post, maximum length 30 symbols!")}),u=i.Ry().shape({fullName:i.Z_().trim().max(15,r("validation.long")).required(r("validation.required")),aboutMe:l,lookingForAJob:i.O7(),lookingForAJobDescription:l,contacts:i.Ry().shape({facebook:a,github:a,vk:a,instagram:a,twitter:a,website:a,youtube:a,mainLink:a})}),d=i.Ry().shape({email:i.Z_().max(35,r("validation.long")).required(r("validation.required")).email(r("validation.email")),password:i.Z_().max(15,r("validation.long")).required(r("validation.required"))}),p=function t(e,n){return Object.entries(e).some((function(e){var s=(0,o.Z)(e,2),i=s[0],r=s[1],a=n[i];return"string"===typeof r?r.trim()!==("string"===typeof a?a.trim():""):"boolean"===typeof r?r!==("boolean"===typeof a&&a):"object"===typeof r&&(r&&t(r,a||{}))}))}},9823:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");e.Z=r},7247:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");e.Z=r},1286:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");e.Z=r},7237:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");e.Z=r},7750:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"PersonAdd");e.Z=r},3368:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"M14 8c0-2.21-1.79-4-4-4S6 5.79 6 8s1.79 4 4 4 4-1.79 4-4zm3 2v2h6v-2h-6zM2 18v2h16v-2c0-2.66-5.33-4-8-4s-8 1.34-8 4z"}),"PersonRemove");e.Z=r},9013:function(t,e,n){"use strict";var o=n(4836);e.Z=void 0;var s=o(n(5649)),i=n(184),r=(0,s.default)((0,i.jsx)("path",{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}),"Upload");e.Z=r},1694:function(t,e){var n;!function(){"use strict";var o={}.hasOwnProperty;function s(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var i=typeof n;if("string"===i||"number"===i)t.push(n);else if(Array.isArray(n)){if(n.length){var r=s.apply(null,n);r&&t.push(r)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){t.push(n.toString());continue}for(var a in n)o.call(n,a)&&n[a]&&t.push(a)}}}return t.join(" ")}t.exports?(s.default=s,t.exports=s):void 0===(n=function(){return s}.apply(e,[]))||(t.exports=n)}()},6912:function(t,e){"use strict";e.Z={changeAvatar:"ChangeAvatar_changeAvatar__ooki0",popoverWrapper:"ChangeAvatar_popoverWrapper__9547g"}},3328:function(t,e,n){"use strict";t.exports=n.p+"static/media/avatar.5a2d86a614875de76929.png"}}]);
//# sourceMappingURL=562.9f72d200.chunk.js.map