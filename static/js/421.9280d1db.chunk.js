"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[421],{8421:function(e,t,n){n.r(t),n.d(t,{default:function(){return q}});var i=n(3366);var a=n(9439),o=n(7205),r=n(2791),s=n(9230),l=n(364),c=n(8931),u=n(2506),d=n(45),m=n(3303),f=n(4261),p=n(8095),g="SettingsForm_formWrapper__AOnop",v="SettingsForm_title__jqqKK",h="SettingsForm_property__yMOJB",b="SettingsForm_contactsWrapper__Ttzxo",x="SettingsForm_contacts__N+BRO",j="SettingsForm_contact__FUMwA",y="SettingsForm_buttons__ggSrg",_=n(184),N=function(e){var t=e.info,n=e.onSubmit,i=e.editProfile,a=e.toggleEditMode,r=(0,s.$G)().t,l=["photos","userId","fullName"];return(0,_.jsx)(_.Fragment,{children:(0,_.jsx)(u.J9,{onSubmit:n,initialValues:i,validationSchema:p.qY,children:function(e){var n=e.dirty,s=e.isValid,c=e.values,N=(0,p.hJ)(c,i);return(0,_.jsxs)(u.l0,{className:g,children:[(0,_.jsx)("h3",{className:v,children:r("settings.title")}),(0,_.jsx)("div",{className:h,children:(0,_.jsx)(u.gN,{name:"fullName",id:"fullName",component:d.n,variant:"standard",helperText:r("settings.fullName"),disabled:!0})}),t.map((function(e){return l.includes(e)?void 0:"boolean"===typeof i[e]?(0,_.jsx)("div",{className:h,children:(0,_.jsx)(u.gN,{Label:{label:r("settings.job")},name:e,id:e,type:"checkbox",component:m.$,style:{display:"flex"}})},(0,f.Z)()):"object"!==typeof i[e]?(0,_.jsx)("div",{className:h,children:(0,_.jsx)(u.gN,{name:e,id:e,component:d.n,variant:"standard",helperText:e},(0,f.Z)())}):(0,_.jsxs)("div",{className:b,children:[(0,_.jsx)("h4",{className:v,children:e}),(0,_.jsx)("div",{className:x,children:Object.keys(i.contacts).map((function(e){return(0,_.jsx)(u.gN,{name:"contacts.".concat(e),id:"contacts.".concat(e),component:d.n,variant:"standard",helperText:e,validateonchange:!1,validateOnBlur:!0,className:j},(0,f.Z)())}))})]},(0,f.Z)())})),(0,_.jsxs)("div",{className:y,children:[(0,_.jsx)(o.Z,{variant:"contained",color:"primary",type:"submit",disabled:!n||!s||!N,children:r("profile.save")}),(0,_.jsx)(o.Z,{variant:"contained",color:"secondary",onClick:a,children:r("profile.back")})]})]})}})})},S=n(8641),Z=n(1014),k="Settings_title__20sHA",O=["photos"],q=function(){var e=(0,r.useState)(!1),t=(0,a.Z)(e,2),n=t[0],u=t[1],d=(0,l.v9)((function(e){return e.auth})),m=d.userId,f=d.email,p=d.login,g=d.isAuth,v=(0,l.v9)((function(e){return e.profilePage.profile})),h=(0,l.I0)(),b=(0,s.$G)().t;(0,r.useEffect)((function(){h((0,Z.nA)(m))}),[]);var x=v?Object.getOwnPropertyNames(v):{},j=null!==v&&void 0!==v?v:{},y=(j.photos,function(e,t){if(null==e)return{};var n,a,o=(0,i.Z)(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(j,O));return g?(0,_.jsx)("div",{children:n?(0,_.jsx)(N,{info:x,editProfile:y,onSubmit:function(e){h((0,Z.Ny)(e)),e.fullName!==p&&h(S.YV.setUserDataActionCreator(m,f,e.fullName,!0)),u(!1)},toggleEditMode:function(){return u((function(e){return!e}))}}):(0,_.jsx)("div",{className:k,children:(0,_.jsx)(o.Z,{variant:"contained",onClick:function(){return u((function(e){return!e}))},children:b("settings.edit")})})}):(0,_.jsx)(c.l_,{to:"/Login"})}},8095:function(e,t,n){n.d(t,{hJ:function(){return m},jM:function(){return c},k:function(){return d},qY:function(){return u}});var i=n(9439),a=n(5024),o=n(132),r=a.Z.t,s=o.Z_().trim().nullable().matches(/(^(\w[a-z\d-]*\.)+[a-z]{2,}$)/i,r("validation.domain")),l=o.Z_().trim().max(25,r("validation.long")).required(r("validation.required")),c=o.Ry().shape({newPost:o.Z_().min(3,"Too Short!").max(30,"Too Long Post, maximum length 30 symbols!")}),u=o.Ry().shape({fullName:o.Z_().trim().max(15,r("validation.long")).required(r("validation.required")),aboutMe:l,lookingForAJob:o.O7(),lookingForAJobDescription:l,contacts:o.Ry().shape({facebook:s,github:s,vk:s,instagram:s,twitter:s,website:s,youtube:s,mainLink:s})}),d=o.Ry().shape({email:o.Z_().max(35,r("validation.long")).required(r("validation.required")).email(r("validation.email")),password:o.Z_().max(15,r("validation.long")).required(r("validation.required"))}),m=function e(t,n){return Object.entries(t).some((function(t){var a=(0,i.Z)(t,2),o=a[0],r=a[1],s=n[o];return"string"===typeof r?r.trim()!==("string"===typeof s?s.trim():""):"boolean"===typeof r?r!==("boolean"===typeof s&&s):"object"===typeof r&&(r&&e(r,s||{}))}))}}}]);
//# sourceMappingURL=421.9280d1db.chunk.js.map