"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[972],{6972:function(e,s,i){i.r(s),i.d(s,{default:function(){return y}});var n=i(2791),t=i(364),a=i(8931),l=i(1523),r=i(2094),c=i(2087),o=i(9562),u=i(3978),d=i(1048),f=i(9520),g=i(294),p=i(8916),m=function(e){var s=e.split("T");return s[0].slice(8)+"."+s[0].slice(5,7)+"."+s[0].slice(0,4)},_="MessageTitle_wrapper__E5EV8",h="MessageTitle_icon__Wrz2Q",x="MessageTitle_container__rszxQ",j="MessageTitle_userName__nvYtz",v="MessageTitle_iconWrapper__6mf0B",T="MessageTitle_top__QkTW4",M="MessageTitle_date__2F1xZ",N=i(184),Z=function(e){var s=e.dialog,i=e.openDialog,n=e.title,t=s.id,a=s.userName,Z=s.lastDialogActivityDate,k=s.hasNewMessages,y=s.newMessagesCount,C=s.photos,D="/Dialogs/".concat(t);return(0,N.jsxs)("li",{className:_,children:[(0,N.jsx)(l.OL,{className:x,onClick:i,to:D,children:(0,N.jsxs)(c.ZP,{alignItems:"flex-start",children:[(0,N.jsx)(o.Z,{children:(0,N.jsx)(u.Z,{alt:a,src:null===C||void 0===C?void 0:C.small})}),(0,N.jsx)(d.Z,{primary:a,secondary:n,className:j}),(0,N.jsxs)(f.Z,{className:v,children:[(0,N.jsxs)("div",{className:T,children:[(0,N.jsx)("span",{className:M,children:m(Z)}),(0,N.jsx)(r.Z,{onClick:function(e){e.preventDefault(),console.log("openMenu")},className:h})]}),k&&(0,N.jsx)("div",{children:(0,N.jsx)(g.Z,{badgeContent:y,color:"primary"})})]})]})}),(0,N.jsx)(p.Z,{variant:"fullWidth",component:"li"})]})},k=i(4487),y=function(){var e=(0,t.I0)(),s=(0,t.v9)((function(e){return{isAuth:e.auth,dialogs:e.dialogs.dialogs,messagesTitles:e.dialogs.messagesTitles}})),i=s.isAuth,l=s.dialogs,r=s.messagesTitles;(0,n.useEffect)((function(){e((0,k.f2)())}),[]),(0,n.useEffect)((function(){return function(){e((0,k.pd)())}}),[]),(0,n.useEffect)((function(){var s=l.map((function(e){return e.id}));s.length!==r.length&&s.map((function(s){return e((0,k.T7)({id:s}))}))}),[l]);var c=Object.fromEntries(r);return i?(0,N.jsx)(N.Fragment,{children:(0,N.jsx)("ul",{children:l.map((function(s){return(0,N.jsx)(Z,{dialog:s,title:c[s.id],openDialog:function(){return i=s.id,e((0,k.dp)({id:i})),void e((0,k.Bl)({id:i}));var i}},s.id)}))})}):(0,N.jsx)(a.l_,{to:"/Login"})}}}]);
//# sourceMappingURL=972.03684148.chunk.js.map