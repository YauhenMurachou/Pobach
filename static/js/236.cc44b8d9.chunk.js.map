{"version":3,"file":"static/js/236.cc44b8d9.chunk.js","mappings":"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","sources":["webpack://my-app/./src/components/chat/ChatPage.module.css?b24b","components/chat/ChatPage.tsx","../node_modules/@mui/icons-material/DeleteOutline.js","../node_modules/@mui/icons-material/Send.js","../node_modules/@mui/icons-material/utils/createSvgIcon.js","../node_modules/@mui/material/esm/utils/createChainedFunction.js","../node_modules/@mui/material/esm/utils/deprecatedPropType.js","../node_modules/@mui/utils/esm/deprecatedPropType.js","../node_modules/@mui/material/esm/utils/requirePropFactory.js","../node_modules/@mui/utils/esm/requirePropFactory.js","../node_modules/@mui/material/esm/utils/setRef.js","../node_modules/@mui/material/esm/utils/useId.js","../node_modules/@mui/material/esm/utils/unsupportedProp.js","../node_modules/@mui/utils/esm/unsupportedProp.js","../node_modules/@mui/material/esm/utils/index.js","../node_modules/@babel/runtime/helpers/interopRequireDefault.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"messagesWrapper\":\"ChatPage_messagesWrapper__NFx-O\",\"addMessageForm\":\"ChatPage_addMessageForm__bCrWQ\",\"avatar\":\"ChatPage_avatar__6lEId\",\"messageContainer\":\"ChatPage_messageContainer__+VkiS\",\"messageBlock\":\"ChatPage_messageBlock__E3NSy\",\"author\":\"ChatPage_author__I+V9m\",\"message\":\"ChatPage_message__1C9-4\",\"iconWrapper\":\"ChatPage_iconWrapper__-ISCr\",\"icon\":\"ChatPage_icon__vtmug\"};","import { FC, memo, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { NavLink, Redirect } from 'react-router-dom';\nimport DeleteOutlineIcon from '@mui/icons-material/DeleteOutline';\nimport SendIcon from '@mui/icons-material/Send';\nimport { Button, TextField } from '@mui/material';\nimport { MessageType } from 'src/api/chat-api';\nimport Loader from 'src/components/loader/Loader';\nimport avatar from 'src/images/avatar.png';\nimport { sendMessageThunkCreator } from 'src/redux/chatReducer';\nimport { RootState } from 'src/redux/redux-store';\n\nimport classes from './ChatPage.module.css';\n\nexport const ChatPage: FC = memo(() => {\n  const { isAuth } = useSelector((state: RootState) => state.auth);\n  const status = useSelector((state: RootState) => state.chat.status);\n\n  if (!isAuth) {\n    return <Redirect to=\"/Login\" />;\n  }\n\n  return (\n    <>\n      {status === 'pending' && <Loader isFetching={status === 'pending'} />}\n      {status === 'ready' && (\n        <>\n          <Messages />\n          <AddMessageForm />\n        </>\n      )}\n    </>\n  );\n});\n\nconst Messages: FC = memo(() => {\n  const messages = useSelector(\n    (state: RootState) => state.chat.messages\n  );\n\n  const scrollRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    scrollRef.current?.scrollIntoView();\n  }, [messages]);\n\n  return (\n    <div className={classes.messagesWrapper}>\n      {messages.map((message) => (\n        <Message\n          key={message.id}\n          userId={message.userId}\n          message={message.message}\n          photo={message.photo}\n          userName={message.userName}\n        />\n      ))}\n      <div ref={scrollRef}></div>\n    </div>\n  );\n});\n\nconst Message: FC<MessageType> = memo(\n  ({ message, userName, photo, userId }) => (\n    <div className={classes.messageContainer}>\n      <div className={classes.messageBlock}>\n        <NavLink to={'/profile/' + userId}>\n          <img\n            src={photo ?? avatar}\n            alt={userName}\n            className={classes.avatar}\n          />\n        </NavLink>\n        <div>\n          <NavLink to={'/profile/' + userId}>\n            <div className={classes.author}>{userName}</div>\n          </NavLink>\n          <div className={classes.message}>{message}</div>\n        </div>\n      </div>\n      <div className={classes.iconWrapper}>\n        <DeleteOutlineIcon\n          onClick={() => console.log('clicked')}\n          className={classes.icon}\n        />\n      </div>\n    </div>\n  )\n);\n\nconst AddMessageForm: FC = () => {\n  const [message, setMessage] = useState('');\n  const status = useSelector((state: RootState) => state.chat.status);\n  const dispatch = useDispatch();\n  const { t } = useTranslation();\n\n  const sendMessage = () => {\n    if (!message) {\n      return;\n    }\n    dispatch(sendMessageThunkCreator(message));\n    setMessage('');\n  };\n\n  return (\n    <div className={classes.addMessageForm}>\n      <TextField\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        //@ts-ignore\n        placeholder={t('chat.enter')}\n        multiline\n        maxRows={4}\n        value={message}\n        onChange={(e) => setMessage(e.currentTarget.value)}\n        fullWidth\n        margin=\"normal\"\n        onKeyDown={(e) => {\n          if (e.ctrlKey && e.key === 'Enter') {\n            setMessage(`${message}\\r\\n`);\n          } else if (e.key === 'Enter' && !e.shiftKey) {\n            e.preventDefault();\n            sendMessage();\n          }\n        }}\n        autoFocus\n      />\n      <Button\n        onClick={sendMessage}\n        disabled={status !== 'ready' || !message.trim().length}\n        variant=\"contained\"\n        endIcon={<SendIcon />}\n      >\n        {t('chat.send')}\n      </Button>\n    </div>\n  );\n};\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z\"\n}), 'DeleteOutline');\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\nvar _jsxRuntime = require(\"react/jsx-runtime\");\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z\"\n}), 'Send');\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function () {\n    return _utils.createSvgIcon;\n  }\n});\nvar _utils = require(\"@mui/material/utils\");","import { unstable_createChainedFunction as createChainedFunction } from '@mui/utils';\nexport default createChainedFunction;","import { unstable_deprecatedPropType as deprecatedPropType } from '@mui/utils';\nexport default deprecatedPropType;","export default function deprecatedPropType(validator, reason) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  }\n\n  return (props, propName, componentName, location, propFullName) => {\n    const componentNameSafe = componentName || '<<anonymous>>';\n    const propFullNameSafe = propFullName || propName;\n\n    if (typeof props[propName] !== 'undefined') {\n      return new Error(`The ${location} \\`${propFullNameSafe}\\` of ` + `\\`${componentNameSafe}\\` is deprecated. ${reason}`);\n    }\n\n    return null;\n  };\n}","import { unstable_requirePropFactory as requirePropFactory } from '@mui/utils';\nexport default requirePropFactory;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nexport default function requirePropFactory(componentNameInError, Component) {\n  if (process.env.NODE_ENV === 'production') {\n    return () => null;\n  } // eslint-disable-next-line react/forbid-foreign-prop-types\n\n\n  const prevPropTypes = Component ? _extends({}, Component.propTypes) : null;\n\n  const requireProp = requiredProp => (props, propName, componentName, location, propFullName, ...args) => {\n    const propFullNameSafe = propFullName || propName;\n    const defaultTypeChecker = prevPropTypes == null ? void 0 : prevPropTypes[propFullNameSafe];\n\n    if (defaultTypeChecker) {\n      const typeCheckerResult = defaultTypeChecker(props, propName, componentName, location, propFullName, ...args);\n\n      if (typeCheckerResult) {\n        return typeCheckerResult;\n      }\n    }\n\n    if (typeof props[propName] !== 'undefined' && !props[requiredProp]) {\n      return new Error(`The prop \\`${propFullNameSafe}\\` of ` + `\\`${componentNameInError}\\` can only be used together with the \\`${requiredProp}\\` prop.`);\n    }\n\n    return null;\n  };\n\n  return requireProp;\n}","import { unstable_setRef as setRef } from '@mui/utils';\nexport default setRef;","import { unstable_useId as useId } from '@mui/utils';\nexport default useId;","import { unstable_unsupportedProp as unsupportedProp } from '@mui/utils';\nexport default unsupportedProp;","export default function unsupportedProp(props, propName, componentName, location, propFullName) {\n  if (process.env.NODE_ENV === 'production') {\n    return null;\n  }\n\n  const propFullNameSafe = propFullName || propName;\n\n  if (typeof props[propName] !== 'undefined') {\n    return new Error(`The prop \\`${propFullNameSafe}\\` is not supported. Please remove it.`);\n  }\n\n  return null;\n}","import { unstable_ClassNameGenerator as ClassNameGenerator } from '@mui/base/className';\nexport { default as capitalize } from './capitalize';\nexport { default as createChainedFunction } from './createChainedFunction';\nexport { default as createSvgIcon } from './createSvgIcon';\nexport { default as debounce } from './debounce';\nexport { default as deprecatedPropType } from './deprecatedPropType';\nexport { default as isMuiElement } from './isMuiElement';\nexport { default as ownerDocument } from './ownerDocument';\nexport { default as ownerWindow } from './ownerWindow';\nexport { default as requirePropFactory } from './requirePropFactory';\nexport { default as setRef } from './setRef';\nexport { default as unstable_useEnhancedEffect } from './useEnhancedEffect';\nexport { default as unstable_useId } from './useId';\nexport { default as unsupportedProp } from './unsupportedProp';\nexport { default as useControlled } from './useControlled';\nexport { default as useEventCallback } from './useEventCallback';\nexport { default as useForkRef } from './useForkRef';\nexport { default as useIsFocusVisible } from './useIsFocusVisible'; // TODO: remove this export once ClassNameGenerator is stable\n// eslint-disable-next-line @typescript-eslint/naming-convention\n\nexport const unstable_ClassNameGenerator = {\n  configure: generator => {\n    console.warn(['MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.', '', \"You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead\", '', 'The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401', '', 'The updated documentation: https://mui.com/guides/classname-generator/'].join('\\n'));\n    ClassNameGenerator.configure(generator);\n  }\n};","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;"],"names":["ChatPage","memo","isAuth","useSelector","state","auth","status","chat","Loader","isFetching","Messages","AddMessageForm","to","messages","scrollRef","useRef","useEffect","current","scrollIntoView","className","classes","map","message","Message","userId","photo","userName","id","ref","src","avatar","alt","DeleteOutline","onClick","console","log","useState","setMessage","dispatch","useDispatch","t","useTranslation","sendMessage","sendMessageThunkCreator","TextField","placeholder","multiline","maxRows","value","onChange","e","currentTarget","fullWidth","margin","onKeyDown","ctrlKey","key","shiftKey","preventDefault","autoFocus","Button","disabled","trim","length","variant","endIcon","Send","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","Object","defineProperty","enumerable","get","_utils","createSvgIcon","validator","reason","componentNameInError","Component","props","propName","componentName","location","propFullName","unstable_ClassNameGenerator","configure","generator","warn","join","ClassNameGenerator","module","obj","__esModule"],"sourceRoot":""}