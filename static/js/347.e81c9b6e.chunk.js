"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[347],{3347:function(s,e,r){r.r(e),r.d(e,{default:function(){return E}});var n=r(364),t=r(5671),o=r(3144),a=r(136),i=r(9388),l=r(2791),u=r(423),c=r(9439),h=r(9230),g=r(8931),p=r(1703),f=r(8469),d=r(8254),m=r(4585),_=r(1523),U=r(7750),x=r(3368),j=r(6048),w=r(7205),v=r(3328),P="Users_wrapper__vVwd3",C="Users_header__jbNIb",Z="Users_number__8PoIq",N="Users_itemWrapper__CLc6T",S="Users_item__16xLs",I="Users_avatarWrapper__OqGHX",F="Users_avatar__GPP5D",k="Users_infoWrapper__WiPfo",L="Users_name__+hmKG",b="Users_status__3F4SL",z="Users_id__h6+nK",y="Users_message__uOsMV",O="Users_pagination__x2PrL",V=r(184),A=(0,l.memo)((function(s){var e=s.followingInProgress,r=s.unfollowUsers,n=s.followUsers,t=s.user,o=(0,h.$G)().t;return(0,V.jsxs)("div",{className:S,children:[(0,V.jsxs)("div",{className:I,children:[(0,V.jsx)(_.OL,{to:"/profile/"+t.id,children:(0,V.jsx)("img",{src:t.photos&&null!=t.photos.small?t.photos.small:v,className:F,alt:"avatar"})}),(0,V.jsxs)("div",{className:k,children:[(0,V.jsx)(_.OL,{to:"/profile/"+t.id,className:L,children:t.name}),t.status&&(0,V.jsxs)("div",{className:b,children:[(0,V.jsx)(j.Z,{}),(0,V.jsx)("div",{children:t.status})]}),(0,V.jsxs)("span",{className:z,children:[" id: ",t.id," "]}),(0,V.jsx)(_.OL,{to:"#",className:y,children:o("users.message")})]})]}),(0,V.jsx)("div",{children:t.followed?(0,V.jsx)(w.Z,{variant:"contained",startIcon:(0,V.jsx)(x.Z,{}),disabled:e.some((function(s){return s===t.id})),onClick:function(){r(t.id)},color:"info",children:o("users.unfollow")}):(0,V.jsx)(w.Z,{variant:"contained",startIcon:(0,V.jsx)(U.Z,{}),disabled:e.some((function(s){return s===t.id})),onClick:function(){n(t.id)},children:o("users.follow")})})]})})),G=function(s,e,r){var n=(0,l.useState)(!1),t=(0,c.Z)(n,2),o=t[0],a=t[1],i=(0,l.useState)(""),u=(0,c.Z)(i,2),h=u[0],g=u[1],p=function(s,e){var r=(0,l.useState)(s),n=(0,c.Z)(r,2),t=n[0],o=n[1];return(0,l.useEffect)((function(){var r=setTimeout((function(){return o(s)}),null!==e&&void 0!==e?e:400);return function(){clearTimeout(r)}}),[s,e]),t}(h,500);return(0,l.useEffect)((function(){a(!1),g("")}),[]),(0,l.useEffect)((function(){s&&(h.trim().length>=2||!h.length)&&s(e,r,h)}),[p]),{toggleSearch:function(){return a((function(s){return!s}))},isSearch:o,setSearchValue:g,searchValue:h}},T=(0,l.memo)((function(s){for(var e=s.totalUsersCount,r=s.pageSize,t=s.currentPage,o=s.users,a=s.followingInProgress,i=s.onPageChange,u=s.unfollowUsers,_=s.followUsers,U=s.getUsers,x=G(U,t,r),j=x.setSearchValue,w=x.searchValue,v=!!w.length,S=(0,l.useState)(1),I=(0,c.Z)(S,2),F=I[0],k=I[1],L=(0,n.v9)((function(s){return s.auth})).isAuth,b=(0,n.v9)((function(s){return s.users.isFetching})),z=(0,h.$G)().t,y=Math.ceil(e/r),T=[],W=1;W<=y;W++)T.push(W);return L?(0,V.jsx)("div",{className:P,children:!b&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)("div",{className:C,children:[z("users.showing")," ",(0,V.jsx)("span",{className:Z,children:o.length})," ",z("users.users")," ",(0,V.jsx)("span",{className:Z,children:e}),z("users.registered")]}),(0,V.jsx)(f.Z,{onChange:function(s){j(s.target.value)},value:w,placeholder:z("users.search"),fullWidth:!0,type:"search",size:"small",InputProps:{startAdornment:(0,V.jsx)(d.Z,{position:"start",children:(0,V.jsx)(p.Z,{})})},sx:{bgcolor:"white"},autoFocus:v}),(0,V.jsx)("div",{className:N,children:o.map((function(s,e){return(0,V.jsx)(A,{user:s,followUsers:_,unfollowUsers:u,followingInProgress:a},e+s.toString())}))}),(0,V.jsx)("div",{className:O,children:!!o.length&&(0,V.jsx)(m.Z,{count:y,showFirstButton:!0,showLastButton:!0,page:F,onChange:function(s,e){k(e),i(e)},shape:"rounded"})}),v&&!o.length&&(0,V.jsx)("div",{children:z("users.nothing")})]})}):(0,V.jsx)(g.l_,{to:"/Login"})})),W=function(s){(0,a.Z)(r,s);var e=(0,i.Z)(r);function r(){var s;(0,t.Z)(this,r);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(s=e.call.apply(e,[this].concat(o))).onPageChange=function(e){s.props.getUsers(e,s.props.pageSize)},s}return(0,o.Z)(r,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,V.jsxs)(V.Fragment,{children:[this.props.isFetching&&(0,V.jsx)(u.Z,{isFetching:this.props.isFetching}),(0,V.jsx)(T,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChange:this.onPageChange,unfollowUsers:this.props.unfollowUsers,followUsers:this.props.followUsers,users:this.props.users,followingInProgress:this.props.followingInProgress,getUsers:this.props.getUsers})]})}}]),r}(l.Component),$=W,B=r(6315),E=(0,n.$j)((function(s){return{users:s.users.users,pageSize:s.users.pageSize,totalUsersCount:s.users.totalUsersCount,currentPage:s.users.currentPage,isFetching:s.users.isFetching,followingInProgress:s.users.followingInProgressUsers}}),{setTotalUsersCount:B.Nw.setTotalUsersCountActionCreator,setFollowingInProgress:B.Nw.setFollowingInProgressActionCreator,getUsers:B.Uk,followUsers:B.$s,unfollowUsers:B.BO})($)},3328:function(s,e,r){s.exports=r.p+"static/media/avatar.5a2d86a614875de76929.png"}}]);
//# sourceMappingURL=347.e81c9b6e.chunk.js.map