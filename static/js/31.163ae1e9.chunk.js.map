{"version":3,"file":"static/js/31.163ae1e9.chunk.js","mappings":"4LACA,EAA4B,gC,SCiC5B,EAvBgC,SAAC,GAA4B,IAA1BA,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,WAEvCC,EAOEF,EAPFE,GACAC,EAMEH,EANFG,SAEAC,EAIEJ,EAJFI,uBAEAC,EAEEL,EAFFK,iBACAC,EACEN,EADFM,OAGIC,EAAU,mBAAeL,GAE/B,OACE,UAAC,KAAD,CAASM,UAAWC,EAAmBC,QAAST,EAAYU,GAAIJ,EAAhE,WACE,gBAAKK,IAAKT,EAAUU,IAAG,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAAQQ,SACjC,yBAAMX,KACN,0BAAOC,KACP,0BAAOC,MAGZ,E,UCwBD,EA1CoB,WAClB,IAAMU,GAAWC,EAAAA,EAAAA,MACjB,GAA4BC,EAAAA,EAAAA,KAAY,SAACC,GAAD,MAAuB,CAC7DC,OAAQD,EAAME,KACdC,QAASH,EAAMG,QAAQA,QAFe,IAAhCF,EAAR,EAAQA,OAAQE,EAAhB,EAAgBA,SAKhBC,EAAAA,EAAAA,YAAU,WACRP,GAASQ,EAAAA,EAAAA,MACV,GAAE,KAEHD,EAAAA,EAAAA,YACE,kBAAM,WACJP,GAASS,EAAAA,EAAAA,MACV,CAFD,GAGA,IAQF,OAAKL,GAKH,+BACE,wBACGE,EAAQI,KAAI,SAACzB,GAAD,OACX,SAAC,EAAD,CAEEA,OAAQA,EACRC,WAAY,kBAhBFC,EAgBmBF,EAAOE,GAf5Ca,GAASW,EAAAA,EAAAA,IAAsB,CAAExB,GAAAA,UACjCa,GAASY,EAAAA,EAAAA,IAAmB,CAAEzB,GAAAA,KAFb,IAACA,CAgBE,GAFPF,EAAOE,GAFH,SANV,SAAC,KAAD,CAAUS,GAAG,UAgBvB,C","sources":["webpack://my-app/./src/components/dialogs/messageTitle/MessageTitle.module.css?e0c7","components/dialogs/messageTitle/MessageTitle.tsx","components/dialogs/Dialogs.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MessageTitle_container__rszxQ\"};","import { FC } from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { Dialog } from 'src/types';\n\nimport classes from './MessageTitle.module.css';\n\ntype Props = {\n  dialog: Dialog;\n  openDialog: () => void;\n};\n\nconst MessageTitle: FC<Props> = ({ dialog, openDialog }) => {\n  const {\n    id,\n    userName,\n    // hasNewMessages,\n    lastDialogActivityDate,\n    // lastUserActivityDate,\n    newMessagesCount,\n    photos,\n  } = dialog;\n\n  const dialogPath = `/Dialogs/${id}`;\n\n  return (\n    <NavLink className={classes.container} onClick={openDialog} to={dialogPath}>\n      <img alt={userName} src={photos?.small} />\n      <div>{userName}</div>\n      <span>{lastDialogActivityDate}</span>\n      <span>{newMessagesCount}</span>\n    </NavLink>\n  );\n};\n\nexport default MessageTitle;\n","import { FC, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport MessageTitle from 'src/components/dialogs/messageTitle/MessageTitle';\r\nimport {\r\n  dialogOpenedAction,\r\n  getDialogsAction,\r\n  getMessagesListAction,\r\n  messagesListCleared,\r\n} from 'src/redux/dialogsReducer';\r\nimport { RootState } from 'src/redux/redux-store';\r\n\r\n// import classes from './Dialogs.module.css';\r\n\r\nconst Dialogs: FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { isAuth, dialogs } = useSelector((state: RootState) => ({\r\n    isAuth: state.auth,\r\n    dialogs: state.dialogs.dialogs,\r\n  }));\r\n\r\n  useEffect(() => {\r\n    dispatch(getDialogsAction());\r\n  }, []); // eslint-disable-line\r\n\r\n  useEffect(\r\n    () => () => {\r\n      dispatch(messagesListCleared());\r\n    },\r\n    [] // eslint-disable-line\r\n  );\r\n\r\n  const openDialog = (id: number) => {\r\n    dispatch(getMessagesListAction({ id }));\r\n    dispatch(dialogOpenedAction({ id }));\r\n  };\r\n\r\n  if (!isAuth) {\r\n    return <Redirect to=\"/Login\" />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ul>\r\n        {dialogs.map((dialog) => (\r\n          <MessageTitle\r\n            key={dialog.id}\r\n            dialog={dialog}\r\n            openDialog={() => openDialog(dialog.id)}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dialogs;\r\n"],"names":["dialog","openDialog","id","userName","lastDialogActivityDate","newMessagesCount","photos","dialogPath","className","classes","onClick","to","alt","src","small","dispatch","useDispatch","useSelector","state","isAuth","auth","dialogs","useEffect","getDialogsAction","messagesListCleared","map","getMessagesListAction","dialogOpenedAction"],"sourceRoot":""}